<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon2.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="不聚不散">
<meta property="og:type" content="website">
<meta property="og:title" content="颂">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="颂">
<meta property="og:description" content="不聚不散">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="zhou">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>颂</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">颂</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/18/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/18/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA-2/" class="post-title-link" itemprop="url">使用ssh服务管理远程主机-2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-06-18 11:25:51" itemprop="dateCreated datePublished" datetime="2024-06-18T11:25:51+08:00">2024-06-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-06-27 17:30:25" itemprop="dateModified" datetime="2024-06-27T17:30:25+08:00">2024-06-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>使用ssh服务管理远程主机-2</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/18/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA-2/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/18/2024-6-18/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/18/2024-6-18/" class="post-title-link" itemprop="url">2024-6-18</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-18 09:03:57 / 修改时间：09:40:36" itemprop="dateCreated datePublished" datetime="2024-06-18T09:03:57+08:00">2024-06-18</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>2024.6.18，23周岁了</p>
<p>有时候时间过得真的好快，大抵还是两年前的六月我才刚毕业，一晃就过去两年了。</p>
<p>回想起从第一份工作的不辞而别，到这份工作也已经快俩个年头了，时常性的告诉自己不应该摆烂，却又沉溺于那温柔乡。</p>
<p>好在近来遇到因事有所觉悟，稍加以告诫，亦有所收获。</p>
<p>23岁的生日，自己都没有意识到，就这样子如期而来，近来几天在工厂车间支援，偶然闲暇之余思绪飞散，想来若是如这般日夜不停，恐怕也难以进行自我提升，多是进入此般循环。</p>
<p>最近很喜欢看影视飓风，里面有一段很有感觉</p>
<blockquote>
<p>如果你把视野拉长，你把时间尺度、观察距离拉长，你会发现人生怎么这么苦，全是很多很难解决的问题，不管是这个家庭关系，还是工作，然后人生的下半场诸如此类的，你会感觉到很强的焦虑感，或者会觉得不适，未来好没有希望啊特别难受。</p>
<p>但是如果你把视野不往长了看，你往短了看，要短到一个极限的看，这种感觉还是挺值得期待的，当你把你对未来的期待，收缩到一天之内，或者说几个小时之内，那可能你的感觉会更好一些</p>
</blockquote>
<p>23岁啊，这样的一个年龄，既不是《陀飞轮》里的过去18岁，又还没到所谓的</p>
<p>霎眼27岁。已经消磨了那么多年，余下已所剩无几了，愿今日执笔于此，忘加以勉励！</p>
<blockquote>
<p>行则将至，道阻且行！</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/11/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/11/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA/" class="post-title-link" itemprop="url">使用ssh服务管理远程主机</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-06-11 08:50:44" itemprop="dateCreated datePublished" datetime="2024-06-11T08:50:44+08:00">2024-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-06-13 17:25:23" itemprop="dateModified" datetime="2024-06-13T17:25:23+08:00">2024-06-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在RHEL7后，原先的守护进程替换为了systemd，用systemctl命令替换了很多管理命令。</p>
<p>使用nmtui配置网卡参数、手工将多块网卡做绑定</p>
<p>使用nmcli命令查看网卡信息</p>
<p>使用ss命令查看网络及端口状态</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/11/%E4%BD%BF%E7%94%A8ssh%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/07/iptables%E4%B8%8Efirewalld%E9%98%B2%E7%81%AB%E5%A2%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/07/iptables%E4%B8%8Efirewalld%E9%98%B2%E7%81%AB%E5%A2%99/" class="post-title-link" itemprop="url">iptables与firewalld防火墙</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-07 09:18:57 / 修改时间：14:36:54" itemprop="dateCreated datePublished" datetime="2024-06-07T09:18:57+08:00">2024-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="iptables与firewalld防火墙"><a href="#iptables与firewalld防火墙" class="headerlink" title="iptables与firewalld防火墙"></a>iptables与firewalld防火墙</h1><h3 id="了解防火墙管理工具"><a href="#了解防火墙管理工具" class="headerlink" title="了解防火墙管理工具"></a>了解防火墙管理工具</h3><p>防火墙虽有软件或硬件之分但主要功能还是依据策略对外部请求进行过滤，成为公网与内网之间的保护屏障，防火墙会监控每一个数据包并判断是否有相应的匹配策略规则，直到满足其中一条策略规则为止，而防火墙规则策略可以是基于来源地址，请求动作或协议来定制的，最终仅让合法的用户请求流入到内网中，其余的均被丢弃</p>
<p>在红帽RHEL7系统中firewalld服务取代了iptables服务，但依然可以使用iptables命令来管理内核的netfilter。</p>
<p>但其实iptables服务与firewalld服务都不是真正的防火墙，它们都只是用来定义防火墙规则功能额度”防火墙管理工具”，将定义好的规则交由内核中的netfilter即网络过滤器来读取，从而真正实现防火墙功能，所以其实在配置规则的思路上是完全一致的。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/07/iptables%E4%B8%8Efirewalld%E9%98%B2%E7%81%AB%E5%A2%99/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/07/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%92%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/07/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%92%E5%88%86/" class="post-title-link" itemprop="url">存储结构与磁盘划分</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-07 09:17:39 / 修改时间：14:37:24" itemprop="dateCreated datePublished" datetime="2024-06-07T09:17:39+08:00">2024-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="存储结构与磁盘划分"><a href="#存储结构与磁盘划分" class="headerlink" title="存储结构与磁盘划分"></a>存储结构与磁盘划分</h1><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>主要常见的目录定义：</p>
<table>
<thead>
<tr>
<th>目录名称</th>
<th>应放置文件的内容</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;boot</td>
<td>开机所需文件——内核，开机菜单及所需配置文件等</td>
</tr>
<tr>
<td>&#x2F;dev</td>
<td>任何设备与接口都以文件形式存放在此目录</td>
</tr>
<tr>
<td>&#x2F;etc</td>
<td>配置文件</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>用户主目录</td>
</tr>
<tr>
<td>&#x2F;bin</td>
<td>单用户维护模式下还能够被操作的命令</td>
</tr>
<tr>
<td>&#x2F;lib</td>
<td>开机时用到的函数库及&#x2F;bin与&#x2F;sbin下面命令要调用的函数</td>
</tr>
<tr>
<td>&#x2F;sbin</td>
<td>开机过程中需要的</td>
</tr>
<tr>
<td>&#x2F;media</td>
<td>一般挂载或删除的设备</td>
</tr>
<tr>
<td>&#x2F;opt</td>
<td>放置第三方的软件</td>
</tr>
<tr>
<td>&#x2F;root</td>
<td>系统管理员的主文件夹</td>
</tr>
<tr>
<td>&#x2F;srv</td>
<td>一些网络服务的数据目录</td>
</tr>
<tr>
<td>&#x2F;tmp</td>
<td>任何人均可使用的”共享”临时目录</td>
</tr>
<tr>
<td>&#x2F;proc</td>
<td>虚拟文件系统，例如系统内核，进程，外部设备及网络状态等</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;local</td>
<td>用户自行安装的软件</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;sbin</td>
<td>非系统开机时需要的软件&#x2F;命令&#x2F;脚本</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;share</td>
<td>帮助与说明文件，也可放置共享文件</td>
</tr>
<tr>
<td>&#x2F;var</td>
<td>主要存放经常变换的文件，如日志</td>
</tr>
<tr>
<td>&#x2F;lost+found</td>
<td>当文件系统发生错误事，将一些丢失的文件片段存放在这里</td>
</tr>
</tbody></table>
<p>绝对路径(absolute)：由根目录(&#x2F;)开始写起的目录或文件名</p>
<p>相对路径(relative)：相对于当前路径的写法</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2024/06/07/%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E7%A3%81%E7%9B%98%E5%88%92%E5%88%86/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/07/%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/07/%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E4%B8%8E%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/" class="post-title-link" itemprop="url">用户身份与文件权限</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-07 09:15:48 / 修改时间：09:22:01" itemprop="dateCreated datePublished" datetime="2024-06-07T09:15:48+08:00">2024-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="用户身份与文件权限"><a href="#用户身份与文件权限" class="headerlink" title="用户身份与文件权限"></a>用户身份与文件权限</h1><h2 id="用户身份与能力"><a href="#用户身份与能力" class="headerlink" title="用户身份与能力"></a>用户身份与能力</h2><h3 id="UID值"><a href="#UID值" class="headerlink" title="UID值"></a>UID值</h3><p>（User IDentification的缩写）每个用户都有对应的UID值，就像身份证号码</p>
<p>超级用户UID：root用户默认为0</p>
<p>系统用户UID1-999：系统中系统服务由不同用户运行，更加安全，默认被限制登录系统</p>
<p>普通用户UID1000-：即管理员创建的用于日常工作而不能管理系统的普通用户</p>
<p>(注意UID一定是不能冲突的，管理员创建的普通用户UID从1000开始，即便前面有闲置的号码)</p>
<p>账户名称与UID保存在&#x2F;etc&#x2F;passwd文件中，而账户密码则保存在&#x2F;etc&#x2F;shadow文件中</p>
<h3 id="GID"><a href="#GID" class="headerlink" title="GID"></a>GID</h3><p>（Group IDentification的缩写）：可将多个用户加入某个组，方便指派任务或工作</p>
<p>每个用户在被创建时均会创建一个默认组（其GID与UID相同，俗称基本组）而后加入的则叫拓展组，一定要分清楚。</p>
<p>用户组名称与GID保存在&#x2F;etc&#x2F;group文件中</p>
<h2 id="文件权限与归属"><a href="#文件权限与归属" class="headerlink" title="文件权限与归属"></a>文件权限与归属</h2><p>linux中一切都是文件，文件和目录的所属与权限——来分别规定所有者、所有者、其余人的读、写、执行权限</p>
<p>读（read）、写（write）、执行（excute），简写（r，w，x），也可用数字（4,2,1）表示</p>
<hr>
<p>第一位代表文件类型：</p>
<table>
<thead>
<tr>
<th>-</th>
<th>普通文件</th>
</tr>
</thead>
<tbody><tr>
<td>d</td>
<td>目录文件</td>
</tr>
<tr>
<td>l</td>
<td>链接文件</td>
</tr>
<tr>
<td>b</td>
<td>块设备文件</td>
</tr>
<tr>
<td>c</td>
<td>字符设备文件</td>
</tr>
<tr>
<td>p</td>
<td>管道文件</td>
</tr>
</tbody></table>
<p>普通文件即实际保存数据的地方，其并不具备删除自身的权限：</p>
<p>    r：可读取文件的实际内容</p>
<p>    w：可编辑&#x2F;新增&#x2F;修改该文件的实际内容</p>
<p>    x：可被执行</p>
<p>目录文件即保存有目录结构和文件权限：</p>
<p>    r：可读取目录结构和权限</p>
<p>    w：可更爱目录结构列表，新建&#x2F;删除&#x2F;重命名&#x2F;、转移子文件&#x2F;目录</p>
<p>    x：表示用户可进入到该目录中</p>
<h2 id="文件的特殊权限"><a href="#文件的特殊权限" class="headerlink" title="文件的特殊权限"></a>文件的特殊权限</h2><p>单纯对文件位置的rwx权限肯定不能满足我们对于安全、便捷工作的需求，所有便有了SUID和SGID的特殊权限机制</p>
<h3 id="SUID"><a href="#SUID" class="headerlink" title="SUID"></a>SUID</h3><p>让执行者临时拥有主的权限（仅对有执行权限的二进制程序有效）</p>
<p>比如所有用户都可以执行用于修改用户密码的passwd命令，单用户密码保存在&#x2F;etc&#x2F;shadown文件中，默认权限是000即除了root外所有用户都没有查看或编辑该文件的权限，所以对passwd命令加上SUID权限位，则可让普通用户临时获得程序所有者的身份，即以root用户的身份将变更的密码信息写入到shadow文件中。</p>
<h3 id="SGID"><a href="#SGID" class="headerlink" title="SGID"></a>SGID</h3><p>功能一：让执行者临时拥有属组的权限（对拥有执行权限的二进制程序设置）</p>
<hr>
<h2 id="文件的隐藏属性"><a href="#文件的隐藏属性" class="headerlink" title="文件的隐藏属性"></a>文件的隐藏属性</h2><p>文件权限除了读写执行与SUID、SGID、SBIT外还有一种隐藏权限，例如明明有权限删除某个文件却报错了，或者仅能为某个文件追加内容而不能减少内容，遇到这种很”奇怪”的文件，就要怀疑是文件被设置隐藏权限了</p>
<p>主要命令：</p>
<p>chattr</p>
<p>lsattr</p>
<h2 id="文件访问控制列表"><a href="#文件访问控制列表" class="headerlink" title="文件访问控制列表"></a>文件访问控制列表</h2><p>rwx权限、特殊权限、隐藏权限都是对某一类用户设置的，如果对某个制定的用户进行单独的权限设置，那么就需要用文件的访问控制列表来实现啦。</p>
<p>我们可以基于普通文件或目录设置进行设置ACL，通俗来说ACL就是设置指定的特定用户或用户组队某个文件的操作权限。并且如果对某个目录设置了访问控制策略，那么子文件则继承其访问策略，而若对文件设置了访问控制策略则不再继承上级目录的控制策略。</p>
<p>有点类似于Windows系统的安全策略</p>
<p>主要命令：</p>
<p>setfacl</p>
<p>getfacl</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/07/%E7%AE%A1%E9%81%93%E7%AC%A6%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/07/%E7%AE%A1%E9%81%93%E7%AC%A6%E3%80%81%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">管道符、重定向和环境变量</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-07 09:12:58 / 修改时间：09:21:51" itemprop="dateCreated datePublished" datetime="2024-06-07T09:12:58+08:00">2024-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="管道符、重定向与环境变量"><a href="#管道符、重定向与环境变量" class="headerlink" title="管道符、重定向与环境变量"></a>管道符、重定向与环境变量</h1><h2 id="管道命令符”-”"><a href="#管道命令符”-”" class="headerlink" title="管道命令符”|”"></a>管道命令符”|”</h2><p>管道命令符“|”的作用是将前一个命令的<u>标准输出</u>当做后一个命令的<u>标准输入</u>，格式为”<u>命令A|命令B</u>“。</p>
<p>例如前面学习的grep命令匹配关键词(&#x2F;sbin&#x2F;login)找出所有被限制登录系统的用户，如果我们希望统计所有不允许登录系统的用户个数，该怎么做呢：</p>
<p>首先理清思路：</p>
<p>找出被限制登录用户的命令：grep “&#x2F;sbin&#x2F;nologin” &#x2F;etc&#x2F;passwd</p>
<p>统计文本行数的命令则是：wc -l</p>
<p>现在要做的事就是将搜索命令的输出值传递给统计命令，其实只要把管道符夹在中间就可以了。</p>
<p>因此结果即为：grep “&#x2F;sbin.nologin&#x2F;” &#x2F;etc&#x2F;passwd | wc -l</p>
<p>以下为部分管道符使用例子：</p>
<p>1、用翻页的形式查看&#x2F;etc目录中又哪些文件</p>
<p>ls -l &#x2F;etc | more</p>
<p>2、向linuxprobe用户发送一封邮件</p>
<p>echo “content” | mail -s “Subject” linuxprobe</p>
<p>3、使用非交互式设置用户密码，将root的密码修改为linuxprobe</p>
<p>echo “linuxprobe” | passwd -stdin root</p>
<h2 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h2><p>先做一个简单的演示</p>
<p>查看linuxprobe目录的信息：</p>
<p>ls linuxprobe&#x2F;</p>
<p>(……文件信息)</p>
<p>ls xxxxx&#x2F;</p>
<p>ls: cannot access xxxxx:no such file or directory</p>
<p>[前者执行后返回的是<u>标准输出</u>,后者执行失败返回的是<u>错误输出</u>]</p>
<p>标准输入(STDIN,文件描述符为0：默认从键盘输入，为0时表示是从其它文件或命令的输出<br>标准输出(STDOUT,文件描述符为1)：默认输出到屏幕，为1时表示是文件<br>错误输出(STDERR，文件描述符为2)：默认输出到屏幕，为2时表示是文件</p>
<p>对于输出重定向符有这些情况：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &gt; 文件</td>
<td>将标准输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 2&gt; 文件</td>
<td>将错误输出重定向到一个文件中(清空原有文件的数据)</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件</td>
<td>将标准输出重定向到一个文件中(追加到原有内容的后面)</td>
</tr>
<tr>
<td>命令 2&gt;&gt; 文件</td>
<td>将错误标准输出重定向到一个文件中(追加到原有内容的后面)</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件 2&gt;$1</td>
<td>将标准输出与错误输出共同写入到文件中(追加到原有内容的后面)</td>
</tr>
</tbody></table>
<p>对于输入重定向有这些情况：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &lt; 文件</td>
<td>将文件作为命令的标准输入</td>
</tr>
<tr>
<td>命令 &lt;&lt; 分界符</td>
<td>从标准输入中读入，知道遇见“分界符”才停止</td>
</tr>
<tr>
<td>命令 &lt; 文件1 &gt; 文件2</td>
<td>将文件1作为命令的标准输入并将标准输出到文件2</td>
</tr>
</tbody></table>
<p>那么来做几个输出和输入重定向的实验：</p>
<p>1、将man命令的帮助文档写入到&#x2F;root&#x2F;man.txt中：</p>
<p>man bash &gt; &#x2F;root&#x2F;man.txt</p>
<p>2、向readme.txt追加一行文字</p>
<p>echo ”test” &gt;&gt; readme.txt</p>
<p>3、将readme.txt文件作为输入重定向给 wc -l 命令来计算行数</p>
<p>wl -l &lt; readme.txt</p>
<h2 id="命令行通配符"><a href="#命令行通配符" class="headerlink" title="命令行通配符"></a>命令行通配符</h2><table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配零个或多个字符</td>
</tr>
<tr>
<td>？</td>
<td>匹配任意单个字符</td>
</tr>
<tr>
<td>[0-9]</td>
<td>匹配范围内的数字</td>
</tr>
<tr>
<td>[abc]</td>
<td>匹配已出额度任意字符</td>
</tr>
</tbody></table>
<p>bash解释器还支持很多的特殊字符拓展：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>\ (反斜杠)</td>
<td>转义后面单个字符，例如$是变量定一个符号会报错，可以通过\来进行转义</td>
</tr>
<tr>
<td>‘’(单引号)</td>
<td>转义所有的字符</td>
</tr>
<tr>
<td>“”(双引号)</td>
<td>变量依然生效</td>
</tr>
<tr>
<td>“(反引号)</td>
<td>执行命令语句</td>
</tr>
</tbody></table>
<p>1、定义一个变量</p>
<p>Price&#x3D;5</p>
<p>2、输出Price is 5</p>
<p>echo “Price is $Price”</p>
<p>3、但如果想要输出Price is 5，就会因为是变量定义而报错，这时候可以使用转义字符\</p>
<p>echo “Price is $$Price”</p>
<p>4、使用单引号，变量将不再被取代</p>
<p>echo ‘Price is $$Price’</p>
<p>Price is $$Price</p>
<p>5、执行uname -a 后可以查看到本机内核的版本与架构 (反引号里面的命令会被执行)：</p>
<p>echo ’uname -a’</p>
<h2 id="PATH变量"><a href="#PATH变量" class="headerlink" title="PATH变量"></a>PATH变量</h2><p>在linux中一切都是文件，命令文件也不例外，在用户执行一条’ls’命令后发生了什么：</p>
<p>1、如果是以绝对&#x2F;相对路径输入的命令则直接执行(如执行&#x2F;bin&#x2F;ls)</p>
<p>2、检查是否为alias别名命令</p>
<p>3、有bash判断其是’内部命令’还是’外部命令’</p>
<p>内部命令：属于解释器内部的</p>
<p>外部命令：独立于解释器外的命令文件</p>
<p>4、通过$PATH变量中定义的路径进行命令查找</p>
<p>查看PATH变量的方法：echo PATH</p>
<p>使用 ‘type 命令名字’来得知是内部命令还是外部命令</p>
<p>在$PATH中目录之间用 : 间隔开了</p>
<p>为变量增加新的值：PATH&#x3D;$PATH:[路径]</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><table>
<thead>
<tr>
<th>变量名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>用户的主目录”家”</td>
</tr>
<tr>
<td>SHELL</td>
<td>当前的shell是哪个程序</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>历史命令记录条数</td>
</tr>
<tr>
<td>MAIL</td>
<td>右键信箱文件</td>
</tr>
<tr>
<td>LANG</td>
<td>语系数据</td>
</tr>
<tr>
<td>RANDOM</td>
<td>随机数字</td>
</tr>
<tr>
<td>PS1</td>
<td>bash提示符</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>history命令存储数量</td>
</tr>
<tr>
<td>PATH</td>
<td>在路径中得目录查找执行文件</td>
</tr>
<tr>
<td>EDITOR</td>
<td>默认文本编辑器</td>
</tr>
<tr>
<td>HOME</td>
<td>用户主目录</td>
</tr>
</tbody></table>
<p>创建变量：[变量名]&#x3D;[提供的值]</p>
<p>用户创建的变量只是局部变量，若要别的用户也能使用可以通过export提升至全局变量</p>
<h2 id="了解vim编辑器"><a href="#了解vim编辑器" class="headerlink" title="了解vim编辑器"></a>了解vim编辑器</h2><table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>dd</td>
<td>删除(剪切)光标所在的整行</td>
</tr>
<tr>
<td>5dd</td>
<td>删除(剪切)从光标处开始的5行</td>
</tr>
<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>
<tr>
<td>5yy</td>
<td>复制从光标处开始的5行</td>
</tr>
<tr>
<td>p</td>
<td>将之前删除(dd)或符直(yy)过的数据贴到光标后</td>
</tr>
<tr>
<td>&#x2F;字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>
<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>
<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>
</tbody></table>
<p>vim编辑器的末行模式中的常用命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>推出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出(放弃对文本的修改内容)</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>
<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>
</tbody></table>
<h2 id="配置网卡信息"><a href="#配置网卡信息" class="headerlink" title="配置网卡信息"></a>配置网卡信息</h2><p>网卡配置文件的前缀为 “eth”，第一块为eth0，第二块为eht1，以此类推……</p>
<p>在RHEL7系统中网卡配置文件的前缀则为ifcfg-eno</p>
<blockquote>
<p>网卡的配置文件存放在 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts目录中</p>
<p>网卡配置文件关键词术语：</p>
<p>网卡类型：TYPE&#x3D;Ethernet</p>
<p>地址分配模式：BOOTPROTO&#x3D;static</p>
<p>网卡名称：NAME&#x3D;eno…..<br>是否启动：onboot&#x3D;yes</p>
<p>IP地址：IPADDR&#x3D;X.X.X.X</p>
<p>子网掩码：NETMASK&#x3D;X.X.X.X</p>
<p>网卡地址：GATEWAY&#x3D;192.168.10.1</p>
<p>DNS地址：DNS1&#x3D;192.168.10.1</p>
</blockquote>
<blockquote>
<p>配置网卡信息简单思路：</p>
<p>1、切换到 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts 目录中</p>
<p>2、使用vim命令修改网卡配置文件 ifcfg-eno…</p>
<p>3、逐项写入配置参数，并保存退出</p>
<p>4、重新启动网卡命令 systemctl restart network</p>
<p>5、通过ping命令测试网卡信息是否生效</p>
</blockquote>
<h2 id="配置yum仓库"><a href="#配置yum仓库" class="headerlink" title="配置yum仓库"></a>配置yum仓库</h2><blockquote>
<p>配置光盘yum源挂载：</p>
<p>1、切换到 &#x2F;etc&#x2F;yum.repos.d 目录(该目录存放yum仓库配置文件)</p>
<p>2、使用vim编辑器创建并打开一个名为 xxx.repo的新文件，名称自定义，后缀为repo</p>
<p>3、逐项写入配置参数，并保存退出</p>
<p>4、按配置参数的路径将光盘挂在</p>
<p>5、架构光盘挂载信息写入到&#x2F;etc&#x2F;fstab文件中</p>
<p>6、使用yum install https -y 命令检查是否配置正确</p>
</blockquote>
<p>简单的repo文件配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[test]</span><br><span class="line">name=test</span><br><span class="line">baseurl=<span class="keyword">file</span>:///media/cdrom</span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgcheck=<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>创建光盘的挂载目录：</p>
<p>mkdir -p &#x2F;media&#x2F;cdrom</p>
<p>挂载光盘：</p>
<p>mount &#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom</p>
<p>设置开机自动挂载：</p>
<p>vim &#x2F;etc&#x2F;fstab</p>
<p>&#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom iso9660 defaults 0 0</p>
<h2 id="了解shell脚本"><a href="#了解shell脚本" class="headerlink" title="了解shell脚本"></a>了解shell脚本</h2><p>查看系统中所有可用的shell解释器：</p>
<p>cat &#x2F;etc&#x2F;shells</p>
<p>查看当前的shell解释器：</p>
<p>echo $SHELL</p>
<h3 id="编译简单的脚本"><a href="#编译简单的脚本" class="headerlink" title="编译简单的脚本"></a>编译简单的脚本</h3><p>shell脚本的编写要使用到vim文本编辑器，按照命令的执行顺序一次编写，每行写一条linux命令。并且一个完整的shell脚本则应该包括”脚本声明”、”注释信息”和”可执行语句”。</p>
<p>脚本声明(#!)：告知系统用何种shell来解释</p>
<p>注释信息(#)：对可执行语句或程序功能做介绍，可以不写</p>
<p>可执行语句：执行的具体命令</p>
<p>一个简单的shell脚本示例：</p>
<p>vim example.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示当前的工作路径并列出当前目录下的所有文件与属性</span></span><br><span class="line">pwd</span><br><span class="line">ls -al</span><br></pre></td></tr></table></figure>

<p>执行脚本有三种方法：</p>
<p>1、脚本文件路径：&#x2F;example.sh</p>
<p>2、sh脚本文件路径：sh example.sh</p>
<p>3、source脚本文件路径：source example.sh</p>
<p>(只要脚本文件路径没有写错，sh或source命令都可以直接执行改脚本，但一般来说可能会出现权限不足的错误，所以需要使用chmod来赋予权限)</p>
<p>chmod u+x example.sh</p>
<h3 id="接收用户的参数"><a href="#接收用户的参数" class="headerlink" title="接收用户的参数"></a>接收用户的参数</h3><p>shell脚本能够让用户更灵活的完成工作需求，应该有办法接受用户输入的参数，像上面的脚本的写法真的很不灵活</p>
<p>在可执行文件中已经内设：命令名 参数1 参数2 参数3</p>
<table>
<thead>
<tr>
<th>$0</th>
<th>当前执行的shell脚本的程序名</th>
</tr>
</thead>
<tbody><tr>
<td>$1-9,{10},{11}…</td>
<td>参数的位置变量</td>
</tr>
<tr>
<td>$#</td>
<td>一共有多少个变量</td>
</tr>
<tr>
<td>$**</td>
<td>所有位置变量的值</td>
</tr>
<tr>
<td>$?</td>
<td>判断上一条命令是否执行成功，0为成功，非0为失败</td>
</tr>
</tbody></table>
<p>一个可以接收用户参数的shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;当前脚本名称为$0&quot;</span><br><span class="line">echo &quot;总共有$#个参数，分别是$*&quot;</span><br><span class="line">echo &quot;第一个参数为$!,第五个为$5&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@zhou tmp]# sh example.sh 1 2 3 4 5</span><br><span class="line">当前脚本名称为example.sh</span><br><span class="line">总共有5个参数，分别是1 2 3 4 5</span><br><span class="line">第一个参数为,第五个为5</span><br></pre></td></tr></table></figure>

<h3 id="判断用户的参数"><a href="#判断用户的参数" class="headerlink" title="判断用户的参数"></a>判断用户的参数</h3><p>shell脚本有时还要判断用户输入的参数，例如像mkdir命令一眼，当目录不存在则创建，若已存在则报错，条件测试语句能够测试特定的表达式是否成立，当条件成立时返回值0，否则返回其他数值</p>
<p>测试语句格式：[ 条件表达式 ] (需要注意的是两边均应有一个空格)</p>
<p>细分测试语句有：文件测试、逻辑测试、整数值比较、字符串比较</p>
<p>文件测试：[ 操作符 文件或目录名 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>测试是否为目录</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件或目录是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断是否为文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>
<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhou tmp]# [ -d /etc/fstab ]</span><br><span class="line">[root@zhou tmp]# echo $?          </span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@zhou tmp]# [ -f /etc/fstab ]</span><br><span class="line">[root@zhou tmp]# echo $?          </span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p>符号&amp;&amp;代表逻辑上的”与”，当前面的命令执行成功后才会执行后面的命令</p>
<p>判断&#x2F;dev&#x2F;stdin是否存在，若存在则输出exist</p>
<p>[root@zhou ~]# [ -e &#x2F;dev&#x2F;stdin ] &amp;&amp; echo “exist”<br>exist</p>
<p>逻辑测试：[ 表达式1 ] 操作符 [ 表达式2 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp;</td>
<td>逻辑的与，”而且”的意思</td>
</tr>
<tr>
<td></td>
<td>\</td>
</tr>
<tr>
<td>!</td>
<td>逻辑的否</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USER变量是当前登录的用户名</span><br><span class="line">[root@zhou ~]# echo $USER                      </span><br><span class="line">root</span><br><span class="line"></span><br><span class="line">若当前登录的用户不是root，输出user，是root则为空</span><br><span class="line">[root@zhou ~]# [ $USER! = root ] &amp;&amp; echo &quot;user&quot;  </span><br><span class="line"></span><br><span class="line">非root输出user，root输出root</span><br><span class="line">[root@zhou ~]# [ $USER! = root ] &amp;&amp; echo &quot;user&quot; || echo &quot;root&quot;</span><br></pre></td></tr></table></figure>

<p>整数值比较：[ 整数1 操作符 整数2 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>判断是否等于</td>
</tr>
<tr>
<td>-ne</td>
<td>判断是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>判断是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>判断是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>哦安短是否等于或小于</td>
</tr>
<tr>
<td>-ge</td>
<td>判断是否大于或等于</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">比较10是否大于10</span><br><span class="line">[root@zhou ~]# [ 10 -gt 10 ] </span><br><span class="line">[root@zhou ~]# echo $?</span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示上一条命令执行失败，10不大于10</span></span><br><span class="line"></span><br><span class="line">比较10是否等于10</span><br><span class="line">[root@zhou ~]# [ 10 -eq 10 ]</span><br><span class="line">[root@zhou ~]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">获取当前可用的内存量，并将此值赋值给变量freemem</span><br><span class="line">首先用free-m查看以m为单位的内存使用情况</span><br><span class="line">然后grep cache过滤出剩余内存的行</span><br><span class="line">最后用awk &#x27;&#123;print $3&#125;&#x27;过滤只保留第三列</span><br><span class="line">而freemen=&#x27;语句&#x27;则表示执行里面的雨具后赋值给变量</span><br></pre></td></tr></table></figure>

<p>字符串比较：[字符串 1 操作符 字符串2]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>比较字符串内容是否相同</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>比较字符串内容是否不同</td>
</tr>
<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断string变量是否为空</span></span><br><span class="line">[root@zhou tmp]# [ -z $string ]</span><br><span class="line">[root@zhou tmp]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h3 id="条件测试语句"><a href="#条件测试语句" class="headerlink" title="条件测试语句"></a>条件测试语句</h3><h4 id="if条件语句"><a href="#if条件语句" class="headerlink" title="if条件语句"></a>if条件语句</h4><p>if条件语句分为 单分支结构、双分支结构、多分支结构</p>
<p>单分支结构：仅用if、then、fi关键词组成，只在条件成立后执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">DIR=&quot;/media/cdrom&quot;</span><br><span class="line">if [ ! -e $DIR ]</span><br><span class="line">then</span><br><span class="line">mkdir -p $DIR</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断目录是否存在，若不存在则自动创建</span></span><br></pre></td></tr></table></figure>

<p>双分支结构：由if、then、else、fi关键词组成，做条件成立或条件不成立的判断</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">ping -c 3 -i 0.2 -W 3 $1 &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then </span><br><span class="line">echo &quot;host $1 is up&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;host $1 is down&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">判断主机能否ping通，根据返回结果分别给予提示或警告</span></span><br><span class="line"> ping -c 代表发送的数据包额度个数</span><br><span class="line"> ping -i 代表每0.2秒发送一个数据包</span><br><span class="line"> ping -W 代表3秒即超时</span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">1为用户输入额度第一个参数</span></span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">?为上一条命令的执行结果，判断是否等于0(0为成功)</span></span><br></pre></td></tr></table></figure>

<p>多分支结构：是有if、then、else、elif、fi关键词组成，根据多种条件成立的可能性执行不同的操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Enter your score (0-100): &quot; GRADE</span><br><span class="line">if [ $GRADE -ge 85 ] &amp;&amp; [ $GRADE -le 100 ];then</span><br><span class="line">echo &quot;$GRADE is Excellent&quot;</span><br><span class="line">elif [ $GRADE -ge 70 ] &amp;&amp; [ $GRADE -le 84 ];then</span><br><span class="line">echo &quot;$GRADE is PASS&quot;</span><br><span class="line">else echo &quot;$GRADE is Fail&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">判断用户呼入的分数在哪个区间内，然后判定为优秀、合格或不合格</span></span><br><span class="line"> 使用read命令让用户为GRADE变量赋值</span><br><span class="line"> 大于85小于100输出excellent</span><br><span class="line"> 大于70小于84输出pass</span><br><span class="line"> 其余情况输出fail</span><br></pre></td></tr></table></figure>

<h4 id="for条件语句"><a href="#for条件语句" class="headerlink" title="for条件语句"></a>for条件语句</h4><p>for条件语句会先读取多个不同的变量值，然后逐一执行同一组命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建用户名文件</span><br><span class="line">[root@zhou tmp]# vim test.txt </span><br><span class="line">andy</span><br><span class="line">barry</span><br><span class="line">carl</span><br><span class="line">duke</span><br><span class="line">eric</span><br><span class="line">george</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Enter the password: &quot; PASSWD</span><br><span class="line">for UNAME in `cat test.txt`</span><br><span class="line">do</span><br><span class="line">id $UNAME &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;Already exists&quot;</span><br><span class="line">else</span><br><span class="line">useradd $UNAME &amp;&gt; /dev/null</span><br><span class="line">echo &quot;$PASSWD&quot; | passwd --stdin $UNAME &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;Create success&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;Create failure&quot;</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> shell脚本提示用户输入要设置的密码并赋值给PASSWD变量</span><br><span class="line"> 从test.txt文件中读入用户名并赋值给UNAME变量</span><br><span class="line"> 而查看用户的信息都重定向到/dev/null文件，不显示屏幕</span><br></pre></td></tr></table></figure>

<p>2、测试主机是否在线</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">首先创建主机地址列表：</span><br><span class="line">[root@zhou tmp]# vim ipadds.txt</span><br><span class="line">192.168.10.10</span><br><span class="line">192.168.10.11</span><br><span class="line">192.168.10.12</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">HLIST=$(cat /tmp/ipadds.txt)</span><br><span class="line">for IP in $HLIST</span><br><span class="line">do</span><br><span class="line">ping -c 3 -i 0.2 -W 3 $IP &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ] ; then</span><br><span class="line">echo &quot;Host $IP is up.&quot;</span><br><span class="line">  se</span><br><span class="line">echo &quot;Host $IP is down.&quot;</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> 从ipadds.txt中读取主机地址后赋值给HLIST变量</span><br><span class="line"> 逐个ping列表中的主机IP地址测试主机是否在线</span><br></pre></td></tr></table></figure>

<h4 id="while条件语句"><a href="#while条件语句" class="headerlink" title="while条件语句"></a>while条件语句</h4><p>while条件语句用于测试重复测试某个条件，当小件成立时则继续重复执行</p>
<p>随机生成0-999的数字，猜数字</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">PRICE=$(expr $RANDOM % 1000)</span><br><span class="line">TIMES=0</span><br><span class="line">echo &quot;randow 0-999&quot;</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">read -p &quot;input numbers: &quot; INT</span><br><span class="line">let TIMES++</span><br><span class="line">if [ $INT -eq $PRICE ] ; then</span><br><span class="line">echo &quot;It&#x27;s $PRICE&quot;</span><br><span class="line">echo &quot;猜了 $TIMES 次&quot;</span><br><span class="line">exit 0</span><br><span class="line">elif [ $INT -gt $PRICE ] ; then</span><br><span class="line">echo &quot;so high&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;so low&quot;</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> let可以使变量进行运算，无需加$</span><br></pre></td></tr></table></figure>

<h4 id="case条件语句"><a href="#case条件语句" class="headerlink" title="case条件语句"></a>case条件语句</h4><p>case条件语句可以依据变量的不同数值，分别执行不同的命令动作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;输入一个字符: &quot; KEY</span><br><span class="line">case &quot;$KEY&quot; in</span><br><span class="line">[a-z]|[A-Z])</span><br><span class="line">echo &quot;输入的是字母。&quot;</span><br><span class="line">;;</span><br><span class="line">[0-9])</span><br><span class="line">echo &quot;输入的是数字。&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;输入的是其他。&quot;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"> 提示用户输入一个字符，判断该字符是字母、数字或特殊字符</span><br><span class="line"> ;;相当于break的效果，退出</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/07/command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/07/command/" class="post-title-link" itemprop="url">command</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-07 09:05:18 / 修改时间：09:21:24" itemprop="dateCreated datePublished" datetime="2024-06-07T09:05:18+08:00">2024-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="man-查看命令的帮助信息"><a href="#man-查看命令的帮助信息" class="headerlink" title="man (查看命令的帮助信息)"></a>man (查看命令的帮助信息)</h2><p>格式：man [命令名]</p>
<p>man命令中常用按键及用途</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>空格键</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page down</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page up</td>
<td>向上翻一页</td>
</tr>
<tr>
<td>home</td>
<td>返回首页</td>
</tr>
<tr>
<td>end</td>
<td>返回尾页</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>从上至下搜索某个关键词，如”&#x2F;linux”</td>
</tr>
<tr>
<td>?</td>
<td>从下至上搜索某个关键词，如”?linux”</td>
</tr>
<tr>
<td>n</td>
<td>定位到下一个搜索到的关键词</td>
</tr>
<tr>
<td>N</td>
<td>定位到上一个搜索到的关键词</td>
</tr>
<tr>
<td>q</td>
<td>退出帮助文档</td>
</tr>
</tbody></table>
<p>man命令的帮助信息的目录结构以及意义</p>
<table>
<thead>
<tr>
<th>结构名称</th>
<th>代表意义</th>
</tr>
</thead>
<tbody><tr>
<td>NAME</td>
<td>命令的名称</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>参数的大致使用办法</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>介绍说明</td>
</tr>
<tr>
<td>EXAMPLES</td>
<td>演示(附带简单说明)</td>
</tr>
<tr>
<td>OVERVIEW</td>
<td>概述</td>
</tr>
<tr>
<td>DEFAULTS</td>
<td>默认的功能</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>具体的可用选项(带介绍)</td>
</tr>
<tr>
<td>ENVIRONMENT</td>
<td>环境变量</td>
</tr>
<tr>
<td>FILES</td>
<td>用到的文件</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>相关的资料</td>
</tr>
<tr>
<td>HISTORY</td>
<td>维护历史与联系方式</td>
</tr>
</tbody></table>
<h2 id="PS-用于查看系统中的进程状态"><a href="#PS-用于查看系统中的进程状态" class="headerlink" title="PS (用于查看系统中的进程状态)"></a>PS (用于查看系统中的进程状态)</h2><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有进程(包括其它用户的进程)</td>
</tr>
<tr>
<td>-u</td>
<td>用户以及其它详细信息</td>
</tr>
<tr>
<td>-x</td>
<td>显示没有控制终端的进程</td>
</tr>
</tbody></table>
<p>linux中5种常见的状态</p>
<blockquote>
<p>R（运行）：进程正在运行队列中等待</p>
<p>S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离状态</p>
<p>D（不可中断）：进程不响应系统异步信号，即便用kill命令也不能将其终端</p>
<p>Z（僵死）：进程已经终止，但进程描述符依然存在，直到父进程调用wait4()系统函数后将进程释放</p>
<p>T（体质）：进程收到停止信号后停止运行</p>
</blockquote>
<p>进程状态</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>USER</td>
<td>进程的所有者</td>
</tr>
<tr>
<td>PID</td>
<td>进程ID号</td>
</tr>
<tr>
<td>%CPU</td>
<td>CPU占用率</td>
</tr>
<tr>
<td>%MEN</td>
<td>内存占用率</td>
</tr>
<tr>
<td>VSZ</td>
<td>虚拟内存使用量(单位KB)</td>
</tr>
<tr>
<td>RSS</td>
<td>占用的固定内存量(单位KB)</td>
</tr>
<tr>
<td>TTY</td>
<td>所在终端</td>
</tr>
<tr>
<td>STAT</td>
<td>进程状态</td>
</tr>
<tr>
<td>START</td>
<td>被启动的时间</td>
</tr>
<tr>
<td>TIME</td>
<td>实际使用CPU的时间</td>
</tr>
<tr>
<td>COMMAND</td>
<td>命令名称与参数</td>
</tr>
</tbody></table>
<h2 id="top-动态的监视进程活动与系统负载等信息"><a href="#top-动态的监视进程活动与系统负载等信息" class="headerlink" title="top (动态的监视进程活动与系统负载等信息)"></a>top (动态的监视进程活动与系统负载等信息)</h2><p>top命令前五航为系统整体的统计信息</p>
<blockquote>
<p>第一行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为1分钟、5分钟、15分钟内的平均值、数值越小意味着负载越低）</p>
<p>第二行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数</p>
<p>第三行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等（均为CPU数据并以百分比格式显示）</p>
<p>第四行：物理内存总量，内存使用量，内存空闲两、作为内核缓存的内存量</p>
<p>第五行：虚拟内存总量，虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量</p>
</blockquote>
<h2 id="pidof-用于查询某个指定服务进程的PID值"><a href="#pidof-用于查询某个指定服务进程的PID值" class="headerlink" title="pidof (用于查询某个指定服务进程的PID值)"></a>pidof (用于查询某个指定服务进程的PID值)</h2><p>格式：pidof [参数] [服务名称]</p>
<h2 id="kill-用于终止某个指定PID的服务进程"><a href="#kill-用于终止某个指定PID的服务进程" class="headerlink" title="kill (用于终止某个指定PID的服务进程)"></a>kill (用于终止某个指定PID的服务进程)</h2><p>格式：kill [参数] [进程PID]</p>
<h2 id="killall-用于终止某个指定名称的服务所对应的全部进程"><a href="#killall-用于终止某个指定名称的服务所对应的全部进程" class="headerlink" title="killall (用于终止某个指定名称的服务所对应的全部进程)"></a>killall (用于终止某个指定名称的服务所对应的全部进程)</h2><p>格式：killall [参数] [进程名称]</p>
<p>类似于windows下的结束进程树</p>
<h2 id="wget-使用命令下载网络文件"><a href="#wget-使用命令下载网络文件" class="headerlink" title="wget (使用命令下载网络文件)"></a>wget (使用命令下载网络文件)</h2><p>格式：wget 【参数】 下载地址</p>
<table>
<thead>
<tr>
<th>-b</th>
<th>后台下载模式</th>
</tr>
</thead>
<tbody><tr>
<td>-O</td>
<td>下载到指定目录</td>
</tr>
<tr>
<td>-t</td>
<td>最大尝试次数</td>
</tr>
<tr>
<td>-c</td>
<td>断电续传</td>
</tr>
<tr>
<td>-p</td>
<td>下载页面内所有资源，包括图片，视频等</td>
</tr>
<tr>
<td>-r</td>
<td>递归下载</td>
</tr>
</tbody></table>
<h2 id="free-查看当前系统中内存的使用量情况"><a href="#free-查看当前系统中内存的使用量情况" class="headerlink" title="free (查看当前系统中内存的使用量情况)"></a>free (查看当前系统中内存的使用量情况)</h2><p>格式：free 【-m&#x2F;-g】</p>
<h2 id="who-查看当前登入主机用户的情况"><a href="#who-查看当前登入主机用户的情况" class="headerlink" title="who (查看当前登入主机用户的情况)"></a>who (查看当前登入主机用户的情况)</h2><p>格式：who [参数]</p>
<h2 id="last-查看系统的登入情况"><a href="#last-查看系统的登入情况" class="headerlink" title="last (查看系统的登入情况)"></a>last (查看系统的登入情况)</h2><p>格式：last [参数]</p>
<h2 id="history-显示历史执行过的命令"><a href="#history-显示历史执行过的命令" class="headerlink" title="history (显示历史执行过的命令)"></a>history (显示历史执行过的命令)</h2><p>格式：history [-c]</p>
<p>默认会保存1000条执行过的文件，若要修改可以直接编辑&#x2F;etc&#x2F;profile文件的HISTSIZE值</p>
<h2 id="pwd-用于显示当前的工作目录"><a href="#pwd-用于显示当前的工作目录" class="headerlink" title="pwd (用于显示当前的工作目录)"></a>pwd (用于显示当前的工作目录)</h2><p>格式：pwd [选项]</p>
<p>-p 显示真实路径(即非快捷链接的地址)</p>
<h2 id="cd-用于切换工作路径"><a href="#cd-用于切换工作路径" class="headerlink" title="cd (用于切换工作路径)"></a>cd (用于切换工作路径)</h2><p>格式：cd [目录名称]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>切换到上一次的目录，如”cd -“</td>
</tr>
<tr>
<td>~</td>
<td>切换到”家目录”，如”cd ~”</td>
</tr>
<tr>
<td>~username</td>
<td>切换到其他用户的home目录，如”cd ~teak”</td>
</tr>
<tr>
<td>..</td>
<td>切换到上级目录，如”cd ..”</td>
</tr>
</tbody></table>
<h2 id="ls-用于查看当前目录下有哪些文件"><a href="#ls-用于查看当前目录下有哪些文件" class="headerlink" title="ls (用于查看当前目录下有哪些文件)"></a>ls (用于查看当前目录下有哪些文件)</h2><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>查看全部文件(包括隐藏文件)</td>
</tr>
<tr>
<td>&#x3D;d</td>
<td>仅查看目录本身</td>
</tr>
<tr>
<td>-h</td>
<td>易读的文件容量(如k，m，g )</td>
</tr>
<tr>
<td>-l</td>
<td>显示文件的详细信息</td>
</tr>
</tbody></table>
<h2 id="cat-用于查看纯文本文件（较短的）"><a href="#cat-用于查看纯文本文件（较短的）" class="headerlink" title="cat (用于查看纯文本文件（较短的）)"></a>cat (用于查看纯文本文件（较短的）)</h2><p>格式：cat [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-b</td>
<td>显示行号(不包括空行)</td>
</tr>
<tr>
<td>-A</td>
<td>显示”不可见”的符号，如tab，空格键等等</td>
</tr>
</tbody></table>
<h2 id="more-用于查看纯文本文件（较长的）"><a href="#more-用于查看纯文本文件（较长的）" class="headerlink" title="more (用于查看纯文本文件（较长的）)"></a>more (用于查看纯文本文件（较长的）)</h2><p>格式：more [选项] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>格式</th>
</tr>
</thead>
<tbody><tr>
<td>-数字</td>
<td>预先显示的行数（默认为一页）</td>
</tr>
<tr>
<td>-d</td>
<td>显示提示语句与报错信息</td>
</tr>
</tbody></table>
<h2 id="head-用于查看纯文本文档的前N行"><a href="#head-用于查看纯文本文档的前N行" class="headerlink" title="head (用于查看纯文本文档的前N行)"></a>head (用于查看纯文本文档的前N行)</h2><p>格式：head [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n 10</td>
<td>显示10行</td>
</tr>
<tr>
<td>-n -10</td>
<td>正常输出（如cat命令），但不显示最后的10行</td>
</tr>
</tbody></table>
<h2 id="tail-用于查看纯文本文档的后N行"><a href="#tail-用于查看纯文本文档的后N行" class="headerlink" title="tail (用于查看纯文本文档的后N行)"></a>tail (用于查看纯文本文档的后N行)</h2><p>格式：tail [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n 10</td>
<td>显示后面的10行</td>
</tr>
<tr>
<td>-f</td>
<td>持续刷新显示的内容</td>
</tr>
</tbody></table>
<h2 id="od-查看特殊格式的文件"><a href="#od-查看特殊格式的文件" class="headerlink" title="od (查看特殊格式的文件)"></a>od (查看特殊格式的文件)</h2><p>格式：od [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-t a</td>
<td>默认字符</td>
</tr>
<tr>
<td>-t c</td>
<td>ASCII字符</td>
</tr>
<tr>
<td>-t o</td>
<td>八进制</td>
</tr>
<tr>
<td>-t d</td>
<td>十进制</td>
</tr>
<tr>
<td>-t x</td>
<td>十六进制</td>
</tr>
<tr>
<td>-t f</td>
<td>浮点数</td>
</tr>
</tbody></table>
<h2 id="tr-转换文本文件中得字符"><a href="#tr-转换文本文件中得字符" class="headerlink" title="tr (转换文本文件中得字符)"></a>tr (转换文本文件中得字符)</h2><p>格式：tr [原始字符] [目标字符]</p>
<p>例：cat tr.txt [a-z] [A-Z]</p>
<h2 id="wc-用于统计指定文本的行数、字数、字节数"><a href="#wc-用于统计指定文本的行数、字数、字节数" class="headerlink" title="wc (用于统计指定文本的行数、字数、字节数)"></a>wc (用于统计指定文本的行数、字数、字节数)</h2><p>格式：wc [参数] 文本</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>只显示行数</td>
</tr>
<tr>
<td>-w</td>
<td>只显示单词数</td>
</tr>
<tr>
<td>-c</td>
<td>只显示字节数</td>
</tr>
</tbody></table>
<p>例：统计当前系统中的用户个数</p>
<p>wc -l &#x2F;etc&#x2F;passwd</p>
<h2 id="cut-用于通过列来提取文本字符"><a href="#cut-用于通过列来提取文本字符" class="headerlink" title="cut (用于通过列来提取文本字符)"></a>cut (用于通过列来提取文本字符)</h2><p>格式：cut [参数] 文本</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d 分隔符</td>
<td>指定分隔符，默认为tab</td>
</tr>
<tr>
<td>-f</td>
<td>指定显示的列数</td>
</tr>
<tr>
<td>-c</td>
<td>单位改为字符</td>
</tr>
</tbody></table>
<p>例：</p>
<p>获取当前系统中所有用户的命长：</p>
<p>参数作用：-d以”:”来作为分隔符，-f参数代表只看第一列的内容</p>
<p>cut -d: -f1 &#x2F;etc&#x2F;passwd</p>
<p>获取root用户的默认SHELL解释器：</p>
<p>grep ^root &#x2F;etc&#x2F;passwd | cut -d: -f7</p>
<h2 id="diff-用于比较多个文本文件的差异"><a href="#diff-用于比较多个文本文件的差异" class="headerlink" title="diff (用于比较多个文本文件的差异)"></a>diff (用于比较多个文本文件的差异)</h2><p>格式：diff [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>忽略空格引起的差异</td>
</tr>
<tr>
<td>-B</td>
<td>或略空行引起的差异</td>
</tr>
<tr>
<td>-brief或-q</td>
<td>仅报告是否存在差异</td>
</tr>
<tr>
<td>-c</td>
<td>使用上下文输出格式</td>
</tr>
</tbody></table>
<h2 id="touch-用于创建空白文件与修改文件时间"><a href="#touch-用于创建空白文件与修改文件时间" class="headerlink" title="touch (用于创建空白文件与修改文件时间)"></a>touch (用于创建空白文件与修改文件时间)</h2><p>格式：touch [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>近修改’访问时间’(atime)</td>
</tr>
<tr>
<td>-m</td>
<td>近修改’更改时间’(mtime)</td>
</tr>
<tr>
<td>-d</td>
<td>同事修改atime和mtime</td>
</tr>
<tr>
<td>-t</td>
<td>要修改成的时间[YYMMDDhhmm]</td>
</tr>
</tbody></table>
<h2 id="mkdir-创建空白的文件夹"><a href="#mkdir-创建空白的文件夹" class="headerlink" title="mkdir (创建空白的文件夹)"></a>mkdir (创建空白的文件夹)</h2><p>格式：mkdir [选项] 目录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-m&#x3D;MODE</td>
<td>默认的文件目录</td>
</tr>
<tr>
<td>-p</td>
<td>连续创建多层目录(若文件夹已存在泽忽略)</td>
</tr>
<tr>
<td>-v</td>
<td>显示创建的过程</td>
</tr>
</tbody></table>
<h2 id="cp-用于复制文件或目录"><a href="#cp-用于复制文件或目录" class="headerlink" title="cp (用于复制文件或目录)"></a>cp (用于复制文件或目录)</h2><p>格式：cp [选项] 源文件 目标文件</p>
<p>复制命令的三种情况：</p>
<p>    目标文件是一个目录，会将源文件复制到该目录中。</p>
<p>    目标文件是一个文件，会将源文件覆盖该文件。</p>
<p>    目标文件不存在，将会复制源文件并修改为目标文件的名称(重命名)。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>保留原始文件的属性</td>
</tr>
<tr>
<td>-d</td>
<td>若对象为’链接文件’，则保留该’链接文件’的属性</td>
</tr>
<tr>
<td>-r</td>
<td>递归持续复制(用于目录)</td>
</tr>
<tr>
<td>-i</td>
<td>若目标文件存在则询问是否覆盖</td>
</tr>
<tr>
<td>-a</td>
<td>相当于-pdr(p,d,r为上述的参数)</td>
</tr>
</tbody></table>
<h2 id="mv-mv命令用于移动文件或改名"><a href="#mv-mv命令用于移动文件或改名" class="headerlink" title="mv (mv命令用于移动文件或改名)"></a>mv (mv命令用于移动文件或改名)</h2><p>格式：mv [选项] 文件名 [目标路径|目标文件名]</p>
<h2 id="rm-用于删除文件或目录"><a href="#rm-用于删除文件或目录" class="headerlink" title="rm (用于删除文件或目录)"></a>rm (用于删除文件或目录)</h2><p>格式：rm [选项] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>忽略警告信息</td>
</tr>
<tr>
<td>-i</td>
<td>删除前先询问</td>
</tr>
<tr>
<td>-f</td>
<td>删除文件夹</td>
</tr>
</tbody></table>
<h2 id="dd-用于指定大小的拷贝的文件或指定转换文件"><a href="#dd-用于指定大小的拷贝的文件或指定转换文件" class="headerlink" title="dd (用于指定大小的拷贝的文件或指定转换文件)"></a>dd (用于指定大小的拷贝的文件或指定转换文件)</h2><p>格式：dd [参数]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>if</td>
<td>输入的文件名称</td>
</tr>
<tr>
<td>of</td>
<td>输出的文件名称</td>
</tr>
<tr>
<td>bs</td>
<td>设置每个”块”的大小</td>
</tr>
<tr>
<td>count</td>
<td>设置要拷贝“块”的个数</td>
</tr>
<tr>
<td>conv&#x3D;ucase</td>
<td>将字母从小写转换为大写</td>
</tr>
<tr>
<td>conv&#x3D;lcase</td>
<td>把字母从大写转换为小写</td>
</tr>
</tbody></table>
<p>将光驱设备拷贝成镜像文件：</p>
<p>dd if&#x3D;dev&#x2F;cdrom of&#x3D;RHEL-SERVER-7.0-X86-LinuxProbe.Com.iso</p>
<p>生成一个560m的空白文件：</p>
<p>dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;560_file count&#x3D;1 bs&#x3D;560M</p>
<p>将硬盘的MBR信息拷贝出来：</p>
<p>dd if&#x3D;&#x2F;dev&#x2F;sda of&#x3D;sda_image count-1 bs&#x3D;512K</p>
<h2 id="useradd-用于创建新的用户"><a href="#useradd-用于创建新的用户" class="headerlink" title="useradd (用于创建新的用户)"></a>useradd (用于创建新的用户)</h2><p>useradd [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>指定用户的家目录(默认为&#x2F;home&#x2F;username)</td>
</tr>
<tr>
<td>-D</td>
<td>展示默认值</td>
</tr>
<tr>
<td>-e</td>
<td>账号有效截至日期，格式：YYYY-MM-DD</td>
</tr>
<tr>
<td>-g</td>
<td>指定一个初始用户组(必须已存在)</td>
</tr>
<tr>
<td>-G</td>
<td>指定一个或多个拓展用户组</td>
</tr>
<tr>
<td>-N</td>
<td>指定默认的shell</td>
</tr>
<tr>
<td>-s</td>
<td>指定默认的Shell</td>
</tr>
<tr>
<td>-u</td>
<td>指定用户的UID</td>
</tr>
</tbody></table>
<p>创建名为linuxprobe的用户，并定义家目录路径，UID以及登录解释器(不允许登录)：</p>
<p>useradd -d &#x2F;gome&#x2F;linux -u 8888 -s &#x2F;sbin&#x2F;nologin linuxprobe</p>
<h2 id="passwd-用于修改用户的密码"><a href="#passwd-用于修改用户的密码" class="headerlink" title="passwd (用于修改用户的密码)"></a>passwd (用于修改用户的密码)</h2><p>格式：passwd [选项] [用户名]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>锁定用户进制其登陆</td>
</tr>
<tr>
<td>-u</td>
<td>解除锁定，允许用户登陆</td>
</tr>
<tr>
<td>–stdin</td>
<td>允许从标准输入修改用户密码，如（echo “NewPassWord” \</td>
</tr>
<tr>
<td>-d</td>
<td>使账号无密码</td>
</tr>
<tr>
<td>-e</td>
<td>强制用户下次登陆时修改密码</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户的密码状态</td>
</tr>
</tbody></table>
<h2 id="userdel-用于删除用户所有表格"><a href="#userdel-用于删除用户所有表格" class="headerlink" title="userdel (用于删除用户所有表格)"></a>userdel (用于删除用户所有表格)</h2><p>格式：userdel [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除用户，家目录与相关条件</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户，家目录与其相关条件</td>
</tr>
</tbody></table>
<h2 id="usermod-用于修改用户的属性"><a href="#usermod-用于修改用户的属性" class="headerlink" title="usermod (用于修改用户的属性)"></a>usermod (用于修改用户的属性)</h2><p>格式：usermod [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>填写账号的备注信息</td>
</tr>
<tr>
<td>-d -m</td>
<td>-d与-m连用，可重新指定用户的家目录并自动旧的数据转移过去</td>
</tr>
<tr>
<td>-e</td>
<td>账户到期时间，格式“YYYY-MM-DD”“</td>
</tr>
<tr>
<td>-g</td>
<td>变更所属用户组</td>
</tr>
<tr>
<td>-G</td>
<td>变更拓展用户组</td>
</tr>
<tr>
<td>-L</td>
<td>锁定用户禁止其登录系统</td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户，允许其登录系统</td>
</tr>
<tr>
<td>-s</td>
<td>变更默认终端</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的UID</td>
</tr>
</tbody></table>
<h2 id="groupadd-用于创建群组"><a href="#groupadd-用于创建群组" class="headerlink" title="groupadd (用于创建群组)"></a>groupadd (用于创建群组)</h2><p>格式：groupadd [选项] 群组名</p>
<h2 id="tar-用于对文件打包压缩或解压"><a href="#tar-用于对文件打包压缩或解压" class="headerlink" title="tar (用于对文件打包压缩或解压)"></a>tar (用于对文件打包压缩或解压)</h2><p>格式为：tar [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>创建压缩文件</td>
</tr>
<tr>
<td>-x</td>
<td>解开压缩文件</td>
</tr>
<tr>
<td>-t</td>
<td>查看压缩包内有哪些文件</td>
</tr>
<tr>
<td>-z</td>
<td>用Gzip压缩或解压</td>
</tr>
<tr>
<td>-j</td>
<td>用bzip2压缩或解压</td>
</tr>
<tr>
<td>-v</td>
<td>显示压缩或解压的过程</td>
</tr>
<tr>
<td>-f</td>
<td>目标文件名</td>
</tr>
<tr>
<td>-p</td>
<td>保留原始的权限与属性</td>
</tr>
<tr>
<td>-P</td>
<td>使用绝对路径来压缩</td>
</tr>
<tr>
<td>-C</td>
<td>指定解压到的目录</td>
</tr>
</tbody></table>
<h2 id="grep-用于对文本进行搜索"><a href="#grep-用于对文本进行搜索" class="headerlink" title="grep (用于对文本进行搜索)"></a>grep (用于对文本进行搜索)</h2><p>格式：[选项] [文件]</p>
<p>搜索某个关键词：grep (关键词) (文本文件)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>将可执行文件(binary)当做文本文件(text)来搜索</td>
</tr>
<tr>
<td>-c</td>
<td>仅显示找到的次数</td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-v</td>
<td>反向选择——仅列出没有“关键词”的行</td>
</tr>
</tbody></table>
<h2 id="find-用于查找文件"><a href="#find-用于查找文件" class="headerlink" title="find (用于查找文件)"></a>find (用于查找文件)</h2><p>格式：find [查找路径] (寻找条件) (操作)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>匹配名称</td>
</tr>
<tr>
<td>-perm</td>
<td>匹配权限，(mode为完全匹配，-mode为包含即可)</td>
</tr>
<tr>
<td>-user</td>
<td>匹配所有者</td>
</tr>
<tr>
<td>-group</td>
<td>匹配所有组</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>匹配修改内容的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-atime -n +n</td>
<td>匹配访问文件的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-ctime -n+n</td>
<td>匹配修改权限的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-nouser</td>
<td>匹配无所有者的文件</td>
</tr>
<tr>
<td>-nogroup</td>
<td>匹配无所有组的文件</td>
</tr>
<tr>
<td>-newerf1 !f2</td>
<td>匹配比文件f1新却比f2旧的文件</td>
</tr>
<tr>
<td>-type v&#x2F;d&#x2F;c&#x2F;p&#x2F;l&#x2F;f</td>
<td>匹配文件类型(块设备、目录、字符设备、管道、链接文件、文件文件)</td>
</tr>
<tr>
<td>-size</td>
<td>匹配文件的大小(+50k查找超过50k的文件，而-50k则代表查找小鱼50k的文件)</td>
</tr>
<tr>
<td>-prune</td>
<td>忽略某个目录</td>
</tr>
<tr>
<td>-exec {} ;</td>
<td>后面可接对搜索到结果进一步处理的命令(下面会有演示)</td>
</tr>
</tbody></table>
<p>例子：</p>
<p>1、搜索在&#x2F;etc&#x2F;自己拍卖行所有以host开头的文件</p>
<p>find &#x2F;etc&#x2F; -name “host*” -print</p>
<p>2、</p>
<p>搜索整个系统中所有包含SUID的文件(因SUID的数字表示法是4，而减号表示只要包含)</p>
<p>find &#x2F; -perm -4000 -print</p>
<p>3、</p>
<p>找出用户linuxprobe的文件并复制到&#x2F;root&#x2F;findresults目录</p>
<p>(重点是 “-exec {} :” 其中的{}代表find命令搜索出的文件，记住结尾必须是:)</p>
<p>find &#x2F; -user linuxprobe -execcp -arf {} &#x2F;root&#x2F;findresults&#x2F; :</p>
<h2 id="alias-用于设置命令的别名"><a href="#alias-用于设置命令的别名" class="headerlink" title="alias (用于设置命令的别名)"></a>alias (用于设置命令的别名)</h2><p>格式： alias 别名&#x3D;命令</p>
<p>例如担心复制文件时误将文件覆盖，那么执行alias cp&#x3D;”cp -i”</p>
<h2 id="unalias-取消命令的别名"><a href="#unalias-取消命令的别名" class="headerlink" title="unalias (取消命令的别名)"></a>unalias (取消命令的别名)</h2><p>格式：unalias 别名</p>
<h2 id="env-查看环境变量"><a href="#env-查看环境变量" class="headerlink" title="env (查看环境变量)"></a>env (查看环境变量)</h2><p>格式：env(直接输入env回车)</p>
<h2 id="export-将局部变量提升为全局变量"><a href="#export-将局部变量提升为全局变量" class="headerlink" title="export (将局部变量提升为全局变量)"></a>export (将局部变量提升为全局变量)</h2><p>格式：export 变量名</p>
<h2 id="read（将用户的输入参数赋值给制定变量）"><a href="#read（将用户的输入参数赋值给制定变量）" class="headerlink" title="read（将用户的输入参数赋值给制定变量）"></a>read（将用户的输入参数赋值给制定变量）</h2><p>格式：” read -p [提示语句] 变量名”</p>
<h2 id="chattr（用于设置文件的隐藏权限）"><a href="#chattr（用于设置文件的隐藏权限）" class="headerlink" title="chattr（用于设置文件的隐藏权限）"></a>chattr（用于设置文件的隐藏权限）</h2><p>格式：chattr [参数] 文件</p>
<p>chattr +a linuxprobe</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>将无法对文件进行修改，若对目录设置后则仅能够修改子文件而不能新建或删除</td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容无法覆盖&#x2F;删除（append only）</td>
</tr>
<tr>
<td>S</td>
<td>文件内容变更后同步到硬盘（sync）</td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件的最后访问时间(atime)</td>
</tr>
<tr>
<td>b</td>
<td>不再修改文件或目录的存取时间</td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
</tr>
<tr>
<td>d</td>
<td>当使用dump命令备份时忽略本文件&#x2F;目录</td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或进行压缩</td>
</tr>
<tr>
<td>u</td>
<td>当删除此文件后依然保留其在硬盘中的数据，方便日后恢复</td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并(tail-merging)</td>
</tr>
<tr>
<td>X</td>
<td>可以直接访问压缩文件的内容</td>
</tr>
</tbody></table>
<h2 id="lsattr（用于显示文件的隐藏权限）"><a href="#lsattr（用于显示文件的隐藏权限）" class="headerlink" title="lsattr（用于显示文件的隐藏权限）"></a>lsattr（用于显示文件的隐藏权限）</h2><p>格式：lsattr [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>显示所有文件和目录</td>
</tr>
<tr>
<td>l</td>
<td>显示隐藏属性的全称(默认简写成一个字母)</td>
</tr>
<tr>
<td>R</td>
<td>地柜处理，将制定目录下的所有文件及子目录一并处理</td>
</tr>
<tr>
<td>d</td>
<td>若目标文件为目录，请加此参数</td>
</tr>
</tbody></table>
<h2 id="su（用于变更使用者的身份-切换登陆者）"><a href="#su（用于变更使用者的身份-切换登陆者）" class="headerlink" title="su（用于变更使用者的身份,切换登陆者）"></a>su（用于变更使用者的身份,切换登陆者）</h2><p>格式：su [-] 用户名</p>
<p>root用户切换其他用户无需输入密码</p>
<p>普通用户切换用户需要输入密码</p>
<p>如果要将环境变量改变为新用户的，请加参数’-‘</p>
<h2 id="sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）"><a href="#sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）" class="headerlink" title="sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）"></a>sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）</h2><p>格式：sudo [参数] 命令名称</p>
<p>总结来说sudo的特色功能有：</p>
<p>1、限制用户执行指定的命令</p>
<p>2、记录用户执行的每一条命令</p>
<p>3、配置文件(&#x2F;etc&#x2F;sudoers)根据集中的管理用户、权限与主机等参数</p>
<p>4、验证过密码后5分钟(默认值)内无须再让用户验证密码，更加额度方便</p>
<p>sudo命令的常用参数包括有：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>列出帮助信息</td>
</tr>
<tr>
<td>-l</td>
<td>列出当前用户可执行的命令</td>
</tr>
<tr>
<td>-u 用户名或UID值</td>
<td>以指定的用户身份执行命令</td>
</tr>
<tr>
<td>-k</td>
<td>清空安全时间，下次执行sudo时需要再次密码验证</td>
</tr>
<tr>
<td>-b</td>
<td>在后台执行指定的命令</td>
</tr>
<tr>
<td>-p</td>
<td>更改询问密码的提示语</td>
</tr>
</tbody></table>
<h2 id="setfacl（用于增加或者修改ACL规则）"><a href="#setfacl（用于增加或者修改ACL规则）" class="headerlink" title="setfacl（用于增加或者修改ACL规则）"></a>setfacl（用于增加或者修改ACL规则）</h2><p>格式：setfacl [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-R</td>
<td>递归(对目录使用)</td>
</tr>
<tr>
<td>-m</td>
<td>设置文件的acl规则</td>
</tr>
<tr>
<td>-b</td>
<td>删除acl规则</td>
</tr>
</tbody></table>
<h2 id="getfacl（用于显示文件的ACL规则）"><a href="#getfacl（用于显示文件的ACL规则）" class="headerlink" title="getfacl（用于显示文件的ACL规则）"></a>getfacl（用于显示文件的ACL规则）</h2><p>格式：getfacl 文件</p>
<h2 id="mount（用于挂载文件系统）"><a href="#mount（用于挂载文件系统）" class="headerlink" title="mount（用于挂载文件系统）"></a>mount（用于挂载文件系统）</h2><p>格式：mount 文件系统 挂载目录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>挂载所有在&#x2F;etc&#x2F;fstab中定义的文件系统</td>
</tr>
<tr>
<td>-t</td>
<td>指定文件系统的类型</td>
</tr>
</tbody></table>
<h2 id="umount（撤销已挂载的设备文件）"><a href="#umount（撤销已挂载的设备文件）" class="headerlink" title="umount（撤销已挂载的设备文件）"></a>umount（撤销已挂载的设备文件）</h2><p>格式：umount [挂载点&#x2F;设备文件]</p>
<h2 id="fdisk（用于管理磁盘分区）"><a href="#fdisk（用于管理磁盘分区）" class="headerlink" title="fdisk（用于管理磁盘分区）"></a>fdisk（用于管理磁盘分区）</h2><p>格式：fdsik [磁盘名称]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>m</td>
<td>查看全部可用的参数</td>
</tr>
<tr>
<td>n</td>
<td>添加新的分区</td>
</tr>
<tr>
<td>d</td>
<td>删除某个分区信息</td>
</tr>
<tr>
<td>l</td>
<td>列出所有可用的分区的类型</td>
</tr>
<tr>
<td>p</td>
<td>查看分区表信息</td>
</tr>
<tr>
<td>w</td>
<td>保存并退出</td>
</tr>
<tr>
<td>q</td>
<td>不保存直接退出</td>
</tr>
</tbody></table>
<h2 id="mkfs（用于格式化分区）"><a href="#mkfs（用于格式化分区）" class="headerlink" title="mkfs（用于格式化分区）"></a>mkfs（用于格式化分区）</h2><p>格式：mkfs.[分区格式] [硬盘分区名]</p>
<p>例：mkfs.xfs &#x2F;dev&#x2F;sdb1</p>
<h2 id="df（查看挂载点信息与磁盘使用量）"><a href="#df（查看挂载点信息与磁盘使用量）" class="headerlink" title="df（查看挂载点信息与磁盘使用量）"></a>df（查看挂载点信息与磁盘使用量）</h2><p>格式：df [选项] [文件]</p>
<p>查看挂载信息与硬盘使用量：df -h</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有的文件系统(包括虚拟的)</td>
</tr>
<tr>
<td>-total</td>
<td>展出出总体使用量</td>
</tr>
<tr>
<td>-h</td>
<td>更易读的容量格式如1K，234M，2G···</td>
</tr>
<tr>
<td>-i</td>
<td>展示出inode的信息(默认是磁盘使用信息)</td>
</tr>
<tr>
<td>-T</td>
<td>显示出文件系统的类型</td>
</tr>
</tbody></table>
<h2 id="du（查看磁盘的使用量）"><a href="#du（查看磁盘的使用量）" class="headerlink" title="du（查看磁盘的使用量）"></a>du（查看磁盘的使用量）</h2><p>格式：du [选项] [文件]</p>
<p>查看更目录中个文件夹所占空间：dh sh &#x2F;</p>
<p>查看档案目录下个文件夹所占看就看“du -sh *</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>评估每个文件而非目录整体占用量</td>
</tr>
<tr>
<td>-c</td>
<td>评估每个文件并计算出总占用量总和</td>
</tr>
<tr>
<td>-h</td>
<td>更易读的容量格式如1K,234M,2G···</td>
</tr>
<tr>
<td>-s</td>
<td>仅显示占用量总和</td>
</tr>
</tbody></table>
<h2 id="mdadm（管理系统软件RAID硬盘阵列）"><a href="#mdadm（管理系统软件RAID硬盘阵列）" class="headerlink" title="mdadm（管理系统软件RAID硬盘阵列）"></a>mdadm（管理系统软件RAID硬盘阵列）</h2><p>格式：mdadm [模式] &lt;RAID设备名称&gt; [选项] [成员设备名称]</p>
<p>mdadm管理RAID阵列的动作：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Assemble</td>
<td>将设备加入到以前定义的阵列</td>
</tr>
<tr>
<td>Build</td>
<td>创建一个没有超级块的阵列</td>
</tr>
<tr>
<td>Create</td>
<td>创建一个新的阵列，每个设备具有超级块</td>
</tr>
<tr>
<td>Manage</td>
<td>管理阵列(如添加和删除)</td>
</tr>
<tr>
<td>Misc</td>
<td>允许单独对阵列的某个设备进行操作(如停止阵列)</td>
</tr>
<tr>
<td>Follow or Monitor</td>
<td>监控状态</td>
</tr>
<tr>
<td>Grow</td>
<td>改变阵列的容量或设备数目</td>
</tr>
</tbody></table>
<p>mdadm管理RAID阵列的参数：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>检测设备名称</td>
</tr>
<tr>
<td>-n</td>
<td>指定设备数量</td>
</tr>
<tr>
<td>-l</td>
<td>指定raid级别</td>
</tr>
<tr>
<td>-C</td>
<td>创建</td>
</tr>
<tr>
<td>-v</td>
<td>显示过程</td>
</tr>
<tr>
<td>-f</td>
<td>模拟设备损坏</td>
</tr>
<tr>
<td>-r</td>
<td>移除设备</td>
</tr>
<tr>
<td>-a</td>
<td>添加设备</td>
</tr>
<tr>
<td>-Q</td>
<td>查看摘要信息</td>
</tr>
<tr>
<td>-D</td>
<td>查看详细信息</td>
</tr>
<tr>
<td>-S</td>
<td>停止阵列</td>
</tr>
</tbody></table>
<h2 id="ln（用于创建链接文件）"><a href="#ln（用于创建链接文件）" class="headerlink" title="ln（用于创建链接文件）"></a>ln（用于创建链接文件）</h2><p>格式：ln [选项] 目标</p>
<p>创建硬链接：”ln 文件名 连接名”</p>
<p>创建软链接：”ln -s 文件名 连接名”</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-s</td>
<td>创建”符号链接”（默认是硬链接）</td>
</tr>
<tr>
<td>-f</td>
<td>强制创建文件或目录的链接</td>
</tr>
<tr>
<td>-i</td>
<td>覆盖前先询问</td>
</tr>
<tr>
<td>-v</td>
<td>显示创建链接的过程</td>
</tr>
</tbody></table>
<h2 id="iptables（用于管理防火墙的规则策略）"><a href="#iptables（用于管理防火墙的规则策略）" class="headerlink" title="iptables（用于管理防火墙的规则策略）"></a>iptables（用于管理防火墙的规则策略）</h2><p>格式：iptables[-t 表名] 选项 [链名] [条件] [-j 控制类型]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-P</td>
<td>设置默认策略：iptables -P INPUT （DROP\</td>
</tr>
<tr>
<td>-F</td>
<td>清空规则链</td>
</tr>
<tr>
<td>-L</td>
<td>查看规则链</td>
</tr>
<tr>
<td>-A</td>
<td>在规则链的末尾加入新规则</td>
</tr>
<tr>
<td>-I num</td>
<td>在规则链的头部加入新规则</td>
</tr>
<tr>
<td>-D num</td>
<td>删除某一条规则</td>
</tr>
<tr>
<td>-s</td>
<td>匹配来源地址IP&#x2F;MASK，加叹号”!”表示除这个IP外</td>
</tr>
<tr>
<td>-d</td>
<td>匹配目标地址</td>
</tr>
<tr>
<td>-i 网卡名称</td>
<td>匹配从这块网卡流入的数据</td>
</tr>
<tr>
<td>-o 网卡名称</td>
<td>匹配从这块网卡流出的数据</td>
</tr>
<tr>
<td>-p</td>
<td>匹配协议，如tcp,udp,lcmp</td>
</tr>
<tr>
<td>-dport num</td>
<td>匹配目标端口号</td>
</tr>
<tr>
<td>-sport num</td>
<td>匹配来源端口号</td>
</tr>
</tbody></table>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/05/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/05/linux/" class="post-title-link" itemprop="url">linux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-06-05 14:24:16" itemprop="dateCreated datePublished" datetime="2024-06-05T14:24:16+08:00">2024-06-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-06-07 09:19:58" itemprop="dateModified" datetime="2024-06-07T09:19:58+08:00">2024-06-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="man-查看命令的帮助信息"><a href="#man-查看命令的帮助信息" class="headerlink" title="man (查看命令的帮助信息)"></a>man (查看命令的帮助信息)</h2><p>格式：man [命令名]</p>
<p>man命令中常用按键及用途</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>空格键</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page down</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>page up</td>
<td>向上翻一页</td>
</tr>
<tr>
<td>home</td>
<td>返回首页</td>
</tr>
<tr>
<td>end</td>
<td>返回尾页</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>从上至下搜索某个关键词，如”&#x2F;linux”</td>
</tr>
<tr>
<td>?</td>
<td>从下至上搜索某个关键词，如”?linux”</td>
</tr>
<tr>
<td>n</td>
<td>定位到下一个搜索到的关键词</td>
</tr>
<tr>
<td>N</td>
<td>定位到上一个搜索到的关键词</td>
</tr>
<tr>
<td>q</td>
<td>退出帮助文档</td>
</tr>
</tbody></table>
<p>man命令的帮助信息的目录结构以及意义</p>
<table>
<thead>
<tr>
<th>结构名称</th>
<th>代表意义</th>
</tr>
</thead>
<tbody><tr>
<td>NAME</td>
<td>命令的名称</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>参数的大致使用办法</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>介绍说明</td>
</tr>
<tr>
<td>EXAMPLES</td>
<td>演示(附带简单说明)</td>
</tr>
<tr>
<td>OVERVIEW</td>
<td>概述</td>
</tr>
<tr>
<td>DEFAULTS</td>
<td>默认的功能</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>具体的可用选项(带介绍)</td>
</tr>
<tr>
<td>ENVIRONMENT</td>
<td>环境变量</td>
</tr>
<tr>
<td>FILES</td>
<td>用到的文件</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>相关的资料</td>
</tr>
<tr>
<td>HISTORY</td>
<td>维护历史与联系方式</td>
</tr>
</tbody></table>
<h2 id="PS-用于查看系统中的进程状态"><a href="#PS-用于查看系统中的进程状态" class="headerlink" title="PS (用于查看系统中的进程状态)"></a>PS (用于查看系统中的进程状态)</h2><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有进程(包括其它用户的进程)</td>
</tr>
<tr>
<td>-u</td>
<td>用户以及其它详细信息</td>
</tr>
<tr>
<td>-x</td>
<td>显示没有控制终端的进程</td>
</tr>
</tbody></table>
<p>linux中5种常见的状态</p>
<blockquote>
<p>R（运行）：进程正在运行队列中等待</p>
<p>S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离状态</p>
<p>D（不可中断）：进程不响应系统异步信号，即便用kill命令也不能将其终端</p>
<p>Z（僵死）：进程已经终止，但进程描述符依然存在，直到父进程调用wait4()系统函数后将进程释放</p>
<p>T（体质）：进程收到停止信号后停止运行</p>
</blockquote>
<p>进程状态</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>USER</td>
<td>进程的所有者</td>
</tr>
<tr>
<td>PID</td>
<td>进程ID号</td>
</tr>
<tr>
<td>%CPU</td>
<td>CPU占用率</td>
</tr>
<tr>
<td>%MEN</td>
<td>内存占用率</td>
</tr>
<tr>
<td>VSZ</td>
<td>虚拟内存使用量(单位KB)</td>
</tr>
<tr>
<td>RSS</td>
<td>占用的固定内存量(单位KB)</td>
</tr>
<tr>
<td>TTY</td>
<td>所在终端</td>
</tr>
<tr>
<td>STAT</td>
<td>进程状态</td>
</tr>
<tr>
<td>START</td>
<td>被启动的时间</td>
</tr>
<tr>
<td>TIME</td>
<td>实际使用CPU的时间</td>
</tr>
<tr>
<td>COMMAND</td>
<td>命令名称与参数</td>
</tr>
</tbody></table>
<h2 id="top-动态的监视进程活动与系统负载等信息"><a href="#top-动态的监视进程活动与系统负载等信息" class="headerlink" title="top (动态的监视进程活动与系统负载等信息)"></a>top (动态的监视进程活动与系统负载等信息)</h2><p>top命令前五航为系统整体的统计信息</p>
<blockquote>
<p>第一行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为1分钟、5分钟、15分钟内的平均值、数值越小意味着负载越低）</p>
<p>第二行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数</p>
<p>第三行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等（均为CPU数据并以百分比格式显示）</p>
<p>第四行：物理内存总量，内存使用量，内存空闲两、作为内核缓存的内存量</p>
<p>第五行：虚拟内存总量，虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量</p>
</blockquote>
<h2 id="pidof-用于查询某个指定服务进程的PID值"><a href="#pidof-用于查询某个指定服务进程的PID值" class="headerlink" title="pidof (用于查询某个指定服务进程的PID值)"></a>pidof (用于查询某个指定服务进程的PID值)</h2><p>格式：pidof [参数] [服务名称]</p>
<h2 id="kill-用于终止某个指定PID的服务进程"><a href="#kill-用于终止某个指定PID的服务进程" class="headerlink" title="kill (用于终止某个指定PID的服务进程)"></a>kill (用于终止某个指定PID的服务进程)</h2><p>格式：kill [参数] [进程PID]</p>
<h2 id="killall-用于终止某个指定名称的服务所对应的全部进程"><a href="#killall-用于终止某个指定名称的服务所对应的全部进程" class="headerlink" title="killall (用于终止某个指定名称的服务所对应的全部进程)"></a>killall (用于终止某个指定名称的服务所对应的全部进程)</h2><p>格式：killall [参数] [进程名称]</p>
<p>类似于windows下的结束进程树</p>
<h2 id="wget-使用命令下载网络文件"><a href="#wget-使用命令下载网络文件" class="headerlink" title="wget (使用命令下载网络文件)"></a>wget (使用命令下载网络文件)</h2><p>格式：wget 【参数】 下载地址</p>
<table>
<thead>
<tr>
<th>-b</th>
<th>后台下载模式</th>
</tr>
</thead>
<tbody><tr>
<td>-O</td>
<td>下载到指定目录</td>
</tr>
<tr>
<td>-t</td>
<td>最大尝试次数</td>
</tr>
<tr>
<td>-c</td>
<td>断电续传</td>
</tr>
<tr>
<td>-p</td>
<td>下载页面内所有资源，包括图片，视频等</td>
</tr>
<tr>
<td>-r</td>
<td>递归下载</td>
</tr>
</tbody></table>
<h2 id="free-查看当前系统中内存的使用量情况"><a href="#free-查看当前系统中内存的使用量情况" class="headerlink" title="free (查看当前系统中内存的使用量情况)"></a>free (查看当前系统中内存的使用量情况)</h2><p>格式：free 【-m&#x2F;-g】</p>
<h2 id="who-查看当前登入主机用户的情况"><a href="#who-查看当前登入主机用户的情况" class="headerlink" title="who (查看当前登入主机用户的情况)"></a>who (查看当前登入主机用户的情况)</h2><p>格式：who [参数]</p>
<h2 id="last-查看系统的登入情况"><a href="#last-查看系统的登入情况" class="headerlink" title="last (查看系统的登入情况)"></a>last (查看系统的登入情况)</h2><p>格式：last [参数]</p>
<h2 id="history-显示历史执行过的命令"><a href="#history-显示历史执行过的命令" class="headerlink" title="history (显示历史执行过的命令)"></a>history (显示历史执行过的命令)</h2><p>格式：history [-c]</p>
<p>默认会保存1000条执行过的文件，若要修改可以直接编辑&#x2F;etc&#x2F;profile文件的HISTSIZE值</p>
<h2 id="pwd-用于显示当前的工作目录"><a href="#pwd-用于显示当前的工作目录" class="headerlink" title="pwd (用于显示当前的工作目录)"></a>pwd (用于显示当前的工作目录)</h2><p>格式：pwd [选项]</p>
<p>-p 显示真实路径(即非快捷链接的地址)</p>
<h2 id="cd-用于切换工作路径"><a href="#cd-用于切换工作路径" class="headerlink" title="cd (用于切换工作路径)"></a>cd (用于切换工作路径)</h2><p>格式：cd [目录名称]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>切换到上一次的目录，如”cd -“</td>
</tr>
<tr>
<td>~</td>
<td>切换到”家目录”，如”cd ~”</td>
</tr>
<tr>
<td>~username</td>
<td>切换到其他用户的home目录，如”cd ~teak”</td>
</tr>
<tr>
<td>..</td>
<td>切换到上级目录，如”cd ..”</td>
</tr>
</tbody></table>
<h2 id="ls-用于查看当前目录下有哪些文件"><a href="#ls-用于查看当前目录下有哪些文件" class="headerlink" title="ls (用于查看当前目录下有哪些文件)"></a>ls (用于查看当前目录下有哪些文件)</h2><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>查看全部文件(包括隐藏文件)</td>
</tr>
<tr>
<td>&#x3D;d</td>
<td>仅查看目录本身</td>
</tr>
<tr>
<td>-h</td>
<td>易读的文件容量(如k，m，g )</td>
</tr>
<tr>
<td>-l</td>
<td>显示文件的详细信息</td>
</tr>
</tbody></table>
<h2 id="cat-用于查看纯文本文件（较短的）"><a href="#cat-用于查看纯文本文件（较短的）" class="headerlink" title="cat (用于查看纯文本文件（较短的）)"></a>cat (用于查看纯文本文件（较短的）)</h2><p>格式：cat [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-b</td>
<td>显示行号(不包括空行)</td>
</tr>
<tr>
<td>-A</td>
<td>显示”不可见”的符号，如tab，空格键等等</td>
</tr>
</tbody></table>
<h2 id="more-用于查看纯文本文件（较长的）"><a href="#more-用于查看纯文本文件（较长的）" class="headerlink" title="more (用于查看纯文本文件（较长的）)"></a>more (用于查看纯文本文件（较长的）)</h2><p>格式：more [选项] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>格式</th>
</tr>
</thead>
<tbody><tr>
<td>-数字</td>
<td>预先显示的行数（默认为一页）</td>
</tr>
<tr>
<td>-d</td>
<td>显示提示语句与报错信息</td>
</tr>
</tbody></table>
<h2 id="head-用于查看纯文本文档的前N行"><a href="#head-用于查看纯文本文档的前N行" class="headerlink" title="head (用于查看纯文本文档的前N行)"></a>head (用于查看纯文本文档的前N行)</h2><p>格式：head [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n 10</td>
<td>显示10行</td>
</tr>
<tr>
<td>-n -10</td>
<td>正常输出（如cat命令），但不显示最后的10行</td>
</tr>
</tbody></table>
<h2 id="tail-用于查看纯文本文档的后N行"><a href="#tail-用于查看纯文本文档的后N行" class="headerlink" title="tail (用于查看纯文本文档的后N行)"></a>tail (用于查看纯文本文档的后N行)</h2><p>格式：tail [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-n 10</td>
<td>显示后面的10行</td>
</tr>
<tr>
<td>-f</td>
<td>持续刷新显示的内容</td>
</tr>
</tbody></table>
<h2 id="od-查看特殊格式的文件"><a href="#od-查看特殊格式的文件" class="headerlink" title="od (查看特殊格式的文件)"></a>od (查看特殊格式的文件)</h2><p>格式：od [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-t a</td>
<td>默认字符</td>
</tr>
<tr>
<td>-t c</td>
<td>ASCII字符</td>
</tr>
<tr>
<td>-t o</td>
<td>八进制</td>
</tr>
<tr>
<td>-t d</td>
<td>十进制</td>
</tr>
<tr>
<td>-t x</td>
<td>十六进制</td>
</tr>
<tr>
<td>-t f</td>
<td>浮点数</td>
</tr>
</tbody></table>
<h2 id="tr-转换文本文件中得字符"><a href="#tr-转换文本文件中得字符" class="headerlink" title="tr (转换文本文件中得字符)"></a>tr (转换文本文件中得字符)</h2><p>格式：tr [原始字符] [目标字符]</p>
<p>例：cat tr.txt [a-z] [A-Z]</p>
<h2 id="wc-用于统计指定文本的行数、字数、字节数"><a href="#wc-用于统计指定文本的行数、字数、字节数" class="headerlink" title="wc (用于统计指定文本的行数、字数、字节数)"></a>wc (用于统计指定文本的行数、字数、字节数)</h2><p>格式：wc [参数] 文本</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>只显示行数</td>
</tr>
<tr>
<td>-w</td>
<td>只显示单词数</td>
</tr>
<tr>
<td>-c</td>
<td>只显示字节数</td>
</tr>
</tbody></table>
<p>例：统计当前系统中的用户个数</p>
<p>wc -l &#x2F;etc&#x2F;passwd</p>
<h2 id="cut-用于通过列来提取文本字符"><a href="#cut-用于通过列来提取文本字符" class="headerlink" title="cut (用于通过列来提取文本字符)"></a>cut (用于通过列来提取文本字符)</h2><p>格式：cut [参数] 文本</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d 分隔符</td>
<td>指定分隔符，默认为tab</td>
</tr>
<tr>
<td>-f</td>
<td>指定显示的列数</td>
</tr>
<tr>
<td>-c</td>
<td>单位改为字符</td>
</tr>
</tbody></table>
<p>例：</p>
<p>获取当前系统中所有用户的命长：</p>
<p>参数作用：-d以”:”来作为分隔符，-f参数代表只看第一列的内容</p>
<p>cut -d: -f1 &#x2F;etc&#x2F;passwd</p>
<p>获取root用户的默认SHELL解释器：</p>
<p>grep ^root &#x2F;etc&#x2F;passwd | cut -d: -f7</p>
<h2 id="diff-用于比较多个文本文件的差异"><a href="#diff-用于比较多个文本文件的差异" class="headerlink" title="diff (用于比较多个文本文件的差异)"></a>diff (用于比较多个文本文件的差异)</h2><p>格式：diff [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>忽略空格引起的差异</td>
</tr>
<tr>
<td>-B</td>
<td>或略空行引起的差异</td>
</tr>
<tr>
<td>-brief或-q</td>
<td>仅报告是否存在差异</td>
</tr>
<tr>
<td>-c</td>
<td>使用上下文输出格式</td>
</tr>
</tbody></table>
<h2 id="touch-用于创建空白文件与修改文件时间"><a href="#touch-用于创建空白文件与修改文件时间" class="headerlink" title="touch (用于创建空白文件与修改文件时间)"></a>touch (用于创建空白文件与修改文件时间)</h2><p>格式：touch [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>近修改’访问时间’(atime)</td>
</tr>
<tr>
<td>-m</td>
<td>近修改’更改时间’(mtime)</td>
</tr>
<tr>
<td>-d</td>
<td>同事修改atime和mtime</td>
</tr>
<tr>
<td>-t</td>
<td>要修改成的时间[YYMMDDhhmm]</td>
</tr>
</tbody></table>
<h2 id="mkdir-创建空白的文件夹"><a href="#mkdir-创建空白的文件夹" class="headerlink" title="mkdir (创建空白的文件夹)"></a>mkdir (创建空白的文件夹)</h2><p>格式：mkdir [选项] 目录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-m&#x3D;MODE</td>
<td>默认的文件目录</td>
</tr>
<tr>
<td>-p</td>
<td>连续创建多层目录(若文件夹已存在泽忽略)</td>
</tr>
<tr>
<td>-v</td>
<td>显示创建的过程</td>
</tr>
</tbody></table>
<h2 id="cp-用于复制文件或目录"><a href="#cp-用于复制文件或目录" class="headerlink" title="cp (用于复制文件或目录)"></a>cp (用于复制文件或目录)</h2><p>格式：cp [选项] 源文件 目标文件</p>
<p>复制命令的三种情况：</p>
<p>    目标文件是一个目录，会将源文件复制到该目录中。</p>
<p>    目标文件是一个文件，会将源文件覆盖该文件。</p>
<p>    目标文件不存在，将会复制源文件并修改为目标文件的名称(重命名)。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>保留原始文件的属性</td>
</tr>
<tr>
<td>-d</td>
<td>若对象为’链接文件’，则保留该’链接文件’的属性</td>
</tr>
<tr>
<td>-r</td>
<td>递归持续复制(用于目录)</td>
</tr>
<tr>
<td>-i</td>
<td>若目标文件存在则询问是否覆盖</td>
</tr>
<tr>
<td>-a</td>
<td>相当于-pdr(p,d,r为上述的参数)</td>
</tr>
</tbody></table>
<h2 id="mv-mv命令用于移动文件或改名"><a href="#mv-mv命令用于移动文件或改名" class="headerlink" title="mv (mv命令用于移动文件或改名)"></a>mv (mv命令用于移动文件或改名)</h2><p>格式：mv [选项] 文件名 [目标路径|目标文件名]</p>
<h2 id="rm-用于删除文件或目录"><a href="#rm-用于删除文件或目录" class="headerlink" title="rm (用于删除文件或目录)"></a>rm (用于删除文件或目录)</h2><p>格式：rm [选项] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>忽略警告信息</td>
</tr>
<tr>
<td>-i</td>
<td>删除前先询问</td>
</tr>
<tr>
<td>-f</td>
<td>删除文件夹</td>
</tr>
</tbody></table>
<h2 id="dd-用于指定大小的拷贝的文件或指定转换文件"><a href="#dd-用于指定大小的拷贝的文件或指定转换文件" class="headerlink" title="dd (用于指定大小的拷贝的文件或指定转换文件)"></a>dd (用于指定大小的拷贝的文件或指定转换文件)</h2><p>格式：dd [参数]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>if</td>
<td>输入的文件名称</td>
</tr>
<tr>
<td>of</td>
<td>输出的文件名称</td>
</tr>
<tr>
<td>bs</td>
<td>设置每个”块”的大小</td>
</tr>
<tr>
<td>count</td>
<td>设置要拷贝“块”的个数</td>
</tr>
<tr>
<td>conv&#x3D;ucase</td>
<td>将字母从小写转换为大写</td>
</tr>
<tr>
<td>conv&#x3D;lcase</td>
<td>把字母从大写转换为小写</td>
</tr>
</tbody></table>
<p>将光驱设备拷贝成镜像文件：</p>
<p>dd if&#x3D;dev&#x2F;cdrom of&#x3D;RHEL-SERVER-7.0-X86-LinuxProbe.Com.iso</p>
<p>生成一个560m的空白文件：</p>
<p>dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;560_file count&#x3D;1 bs&#x3D;560M</p>
<p>将硬盘的MBR信息拷贝出来：</p>
<p>dd if&#x3D;&#x2F;dev&#x2F;sda of&#x3D;sda_image count-1 bs&#x3D;512K</p>
<h2 id="useradd-用于创建新的用户"><a href="#useradd-用于创建新的用户" class="headerlink" title="useradd (用于创建新的用户)"></a>useradd (用于创建新的用户)</h2><p>useradd [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>指定用户的家目录(默认为&#x2F;home&#x2F;username)</td>
</tr>
<tr>
<td>-D</td>
<td>展示默认值</td>
</tr>
<tr>
<td>-e</td>
<td>账号有效截至日期，格式：YYYY-MM-DD</td>
</tr>
<tr>
<td>-g</td>
<td>指定一个初始用户组(必须已存在)</td>
</tr>
<tr>
<td>-G</td>
<td>指定一个或多个拓展用户组</td>
</tr>
<tr>
<td>-N</td>
<td>指定默认的shell</td>
</tr>
<tr>
<td>-s</td>
<td>指定默认的Shell</td>
</tr>
<tr>
<td>-u</td>
<td>指定用户的UID</td>
</tr>
</tbody></table>
<p>创建名为linuxprobe的用户，并定义家目录路径，UID以及登录解释器(不允许登录)：</p>
<p>useradd -d &#x2F;gome&#x2F;linux -u 8888 -s &#x2F;sbin&#x2F;nologin linuxprobe</p>
<h2 id="passwd-用于修改用户的密码"><a href="#passwd-用于修改用户的密码" class="headerlink" title="passwd (用于修改用户的密码)"></a>passwd (用于修改用户的密码)</h2><p>格式：passwd [选项] [用户名]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>锁定用户进制其登陆</td>
</tr>
<tr>
<td>-u</td>
<td>解除锁定，允许用户登陆</td>
</tr>
<tr>
<td>–stdin</td>
<td>允许从标准输入修改用户密码，如（echo “NewPassWord” \</td>
</tr>
<tr>
<td>-d</td>
<td>使账号无密码</td>
</tr>
<tr>
<td>-e</td>
<td>强制用户下次登陆时修改密码</td>
</tr>
<tr>
<td>-S</td>
<td>显示用户的密码状态</td>
</tr>
</tbody></table>
<h2 id="userdel-用于删除用户所有表格"><a href="#userdel-用于删除用户所有表格" class="headerlink" title="userdel (用于删除用户所有表格)"></a>userdel (用于删除用户所有表格)</h2><p>格式：userdel [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除用户，家目录与相关条件</td>
</tr>
<tr>
<td>-r</td>
<td>同时删除用户，家目录与其相关条件</td>
</tr>
</tbody></table>
<h2 id="usermod-用于修改用户的属性"><a href="#usermod-用于修改用户的属性" class="headerlink" title="usermod (用于修改用户的属性)"></a>usermod (用于修改用户的属性)</h2><p>格式：usermod [选项] 用户名</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>填写账号的备注信息</td>
</tr>
<tr>
<td>-d -m</td>
<td>-d与-m连用，可重新指定用户的家目录并自动旧的数据转移过去</td>
</tr>
<tr>
<td>-e</td>
<td>账户到期时间，格式“YYYY-MM-DD”“</td>
</tr>
<tr>
<td>-g</td>
<td>变更所属用户组</td>
</tr>
<tr>
<td>-G</td>
<td>变更拓展用户组</td>
</tr>
<tr>
<td>-L</td>
<td>锁定用户禁止其登录系统</td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户，允许其登录系统</td>
</tr>
<tr>
<td>-s</td>
<td>变更默认终端</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户的UID</td>
</tr>
</tbody></table>
<h2 id="groupadd-用于创建群组"><a href="#groupadd-用于创建群组" class="headerlink" title="groupadd (用于创建群组)"></a>groupadd (用于创建群组)</h2><p>格式：groupadd [选项] 群组名</p>
<h2 id="tar-用于对文件打包压缩或解压"><a href="#tar-用于对文件打包压缩或解压" class="headerlink" title="tar (用于对文件打包压缩或解压)"></a>tar (用于对文件打包压缩或解压)</h2><p>格式为：tar [选项] [文件]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-c</td>
<td>创建压缩文件</td>
</tr>
<tr>
<td>-x</td>
<td>解开压缩文件</td>
</tr>
<tr>
<td>-t</td>
<td>查看压缩包内有哪些文件</td>
</tr>
<tr>
<td>-z</td>
<td>用Gzip压缩或解压</td>
</tr>
<tr>
<td>-j</td>
<td>用bzip2压缩或解压</td>
</tr>
<tr>
<td>-v</td>
<td>显示压缩或解压的过程</td>
</tr>
<tr>
<td>-f</td>
<td>目标文件名</td>
</tr>
<tr>
<td>-p</td>
<td>保留原始的权限与属性</td>
</tr>
<tr>
<td>-P</td>
<td>使用绝对路径来压缩</td>
</tr>
<tr>
<td>-C</td>
<td>指定解压到的目录</td>
</tr>
</tbody></table>
<h2 id="grep-用于对文本进行搜索"><a href="#grep-用于对文本进行搜索" class="headerlink" title="grep (用于对文本进行搜索)"></a>grep (用于对文本进行搜索)</h2><p>格式：[选项] [文件]</p>
<p>搜索某个关键词：grep (关键词) (文本文件)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>将可执行文件(binary)当做文本文件(text)来搜索</td>
</tr>
<tr>
<td>-c</td>
<td>仅显示找到的次数</td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-n</td>
<td>显示行号</td>
</tr>
<tr>
<td>-v</td>
<td>反向选择——仅列出没有“关键词”的行</td>
</tr>
</tbody></table>
<h2 id="find-用于查找文件"><a href="#find-用于查找文件" class="headerlink" title="find (用于查找文件)"></a>find (用于查找文件)</h2><p>格式：find [查找路径] (寻找条件) (操作)</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-name</td>
<td>匹配名称</td>
</tr>
<tr>
<td>-perm</td>
<td>匹配权限，(mode为完全匹配，-mode为包含即可)</td>
</tr>
<tr>
<td>-user</td>
<td>匹配所有者</td>
</tr>
<tr>
<td>-group</td>
<td>匹配所有组</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>匹配修改内容的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-atime -n +n</td>
<td>匹配访问文件的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-ctime -n+n</td>
<td>匹配修改权限的时间(-n指n天以内，+n指n天以前)</td>
</tr>
<tr>
<td>-nouser</td>
<td>匹配无所有者的文件</td>
</tr>
<tr>
<td>-nogroup</td>
<td>匹配无所有组的文件</td>
</tr>
<tr>
<td>-newerf1 !f2</td>
<td>匹配比文件f1新却比f2旧的文件</td>
</tr>
<tr>
<td>-type v&#x2F;d&#x2F;c&#x2F;p&#x2F;l&#x2F;f</td>
<td>匹配文件类型(块设备、目录、字符设备、管道、链接文件、文件文件)</td>
</tr>
<tr>
<td>-size</td>
<td>匹配文件的大小(+50k查找超过50k的文件，而-50k则代表查找小鱼50k的文件)</td>
</tr>
<tr>
<td>-prune</td>
<td>忽略某个目录</td>
</tr>
<tr>
<td>-exec {} ;</td>
<td>后面可接对搜索到结果进一步处理的命令(下面会有演示)</td>
</tr>
</tbody></table>
<p>例子：</p>
<p>1、搜索在&#x2F;etc&#x2F;自己拍卖行所有以host开头的文件</p>
<p>find &#x2F;etc&#x2F; -name “host*” -print</p>
<p>2、</p>
<p>搜索整个系统中所有包含SUID的文件(因SUID的数字表示法是4，而减号表示只要包含)</p>
<p>find &#x2F; -perm -4000 -print</p>
<p>3、</p>
<p>找出用户linuxprobe的文件并复制到&#x2F;root&#x2F;findresults目录</p>
<p>(重点是 “-exec {} :” 其中的{}代表find命令搜索出的文件，记住结尾必须是:)</p>
<p>find &#x2F; -user linuxprobe -execcp -arf {} &#x2F;root&#x2F;findresults&#x2F; :</p>
<h2 id="alias-用于设置命令的别名"><a href="#alias-用于设置命令的别名" class="headerlink" title="alias (用于设置命令的别名)"></a>alias (用于设置命令的别名)</h2><p>格式： alias 别名&#x3D;命令</p>
<p>例如担心复制文件时误将文件覆盖，那么执行alias cp&#x3D;”cp -i”</p>
<h2 id="unalias-取消命令的别名"><a href="#unalias-取消命令的别名" class="headerlink" title="unalias (取消命令的别名)"></a>unalias (取消命令的别名)</h2><p>格式：unalias 别名</p>
<h2 id="env-查看环境变量"><a href="#env-查看环境变量" class="headerlink" title="env (查看环境变量)"></a>env (查看环境变量)</h2><p>格式：env(直接输入env回车)</p>
<h2 id="export-将局部变量提升为全局变量"><a href="#export-将局部变量提升为全局变量" class="headerlink" title="export (将局部变量提升为全局变量)"></a>export (将局部变量提升为全局变量)</h2><p>格式：export 变量名</p>
<h2 id="read（将用户的输入参数赋值给制定变量）"><a href="#read（将用户的输入参数赋值给制定变量）" class="headerlink" title="read（将用户的输入参数赋值给制定变量）"></a>read（将用户的输入参数赋值给制定变量）</h2><p>格式：” read -p [提示语句] 变量名”</p>
<h2 id="chattr（用于设置文件的隐藏权限）"><a href="#chattr（用于设置文件的隐藏权限）" class="headerlink" title="chattr（用于设置文件的隐藏权限）"></a>chattr（用于设置文件的隐藏权限）</h2><p>格式：chattr [参数] 文件</p>
<p>chattr +a linuxprobe</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>将无法对文件进行修改，若对目录设置后则仅能够修改子文件而不能新建或删除</td>
</tr>
<tr>
<td>a</td>
<td>仅允许补充（追加）内容无法覆盖&#x2F;删除（append only）</td>
</tr>
<tr>
<td>S</td>
<td>文件内容变更后同步到硬盘（sync）</td>
</tr>
<tr>
<td>s</td>
<td>彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）</td>
</tr>
<tr>
<td>A</td>
<td>不再修改这个文件的最后访问时间(atime)</td>
</tr>
<tr>
<td>b</td>
<td>不再修改文件或目录的存取时间</td>
</tr>
<tr>
<td>D</td>
<td>检查压缩文件中的错误</td>
</tr>
<tr>
<td>d</td>
<td>当使用dump命令备份时忽略本文件&#x2F;目录</td>
</tr>
<tr>
<td>c</td>
<td>默认将文件或进行压缩</td>
</tr>
<tr>
<td>u</td>
<td>当删除此文件后依然保留其在硬盘中的数据，方便日后恢复</td>
</tr>
<tr>
<td>t</td>
<td>让文件系统支持尾部合并(tail-merging)</td>
</tr>
<tr>
<td>X</td>
<td>可以直接访问压缩文件的内容</td>
</tr>
</tbody></table>
<h2 id="lsattr（用于显示文件的隐藏权限）"><a href="#lsattr（用于显示文件的隐藏权限）" class="headerlink" title="lsattr（用于显示文件的隐藏权限）"></a>lsattr（用于显示文件的隐藏权限）</h2><p>格式：lsattr [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>显示所有文件和目录</td>
</tr>
<tr>
<td>l</td>
<td>显示隐藏属性的全称(默认简写成一个字母)</td>
</tr>
<tr>
<td>R</td>
<td>地柜处理，将制定目录下的所有文件及子目录一并处理</td>
</tr>
<tr>
<td>d</td>
<td>若目标文件为目录，请加此参数</td>
</tr>
</tbody></table>
<h2 id="su（用于变更使用者的身份-切换登陆者）"><a href="#su（用于变更使用者的身份-切换登陆者）" class="headerlink" title="su（用于变更使用者的身份,切换登陆者）"></a>su（用于变更使用者的身份,切换登陆者）</h2><p>格式：su [-] 用户名</p>
<p>root用户切换其他用户无需输入密码</p>
<p>普通用户切换用户需要输入密码</p>
<p>如果要将环境变量改变为新用户的，请加参数’-‘</p>
<h2 id="sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）"><a href="#sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）" class="headerlink" title="sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）"></a>sudo（用于给普通用户提供额外权利来完成原本超级用户才能完成的任务）</h2><p>格式：sudo [参数] 命令名称</p>
<p>总结来说sudo的特色功能有：</p>
<p>1、限制用户执行指定的命令</p>
<p>2、记录用户执行的每一条命令</p>
<p>3、配置文件(&#x2F;etc&#x2F;sudoers)根据集中的管理用户、权限与主机等参数</p>
<p>4、验证过密码后5分钟(默认值)内无须再让用户验证密码，更加额度方便</p>
<p>sudo命令的常用参数包括有：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>列出帮助信息</td>
</tr>
<tr>
<td>-l</td>
<td>列出当前用户可执行的命令</td>
</tr>
<tr>
<td>-u 用户名或UID值</td>
<td>以指定的用户身份执行命令</td>
</tr>
<tr>
<td>-k</td>
<td>清空安全时间，下次执行sudo时需要再次密码验证</td>
</tr>
<tr>
<td>-b</td>
<td>在后台执行指定的命令</td>
</tr>
<tr>
<td>-p</td>
<td>更改询问密码的提示语</td>
</tr>
</tbody></table>
<h2 id="setfacl（用于增加或者修改ACL规则）"><a href="#setfacl（用于增加或者修改ACL规则）" class="headerlink" title="setfacl（用于增加或者修改ACL规则）"></a>setfacl（用于增加或者修改ACL规则）</h2><p>格式：setfacl [参数] 文件</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-R</td>
<td>递归(对目录使用)</td>
</tr>
<tr>
<td>-m</td>
<td>设置文件的acl规则</td>
</tr>
<tr>
<td>-b</td>
<td>删除acl规则</td>
</tr>
</tbody></table>
<h2 id="getfacl（用于显示文件的ACL规则）"><a href="#getfacl（用于显示文件的ACL规则）" class="headerlink" title="getfacl（用于显示文件的ACL规则）"></a>getfacl（用于显示文件的ACL规则）</h2><p>格式：getfacl 文件</p>
<h2 id="mount（用于挂载文件系统）"><a href="#mount（用于挂载文件系统）" class="headerlink" title="mount（用于挂载文件系统）"></a>mount（用于挂载文件系统）</h2><p>格式：mount 文件系统 挂载目录</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>挂载所有在&#x2F;etc&#x2F;fstab中定义的文件系统</td>
</tr>
<tr>
<td>-t</td>
<td>指定文件系统的类型</td>
</tr>
</tbody></table>
<h2 id="umount（撤销已挂载的设备文件）"><a href="#umount（撤销已挂载的设备文件）" class="headerlink" title="umount（撤销已挂载的设备文件）"></a>umount（撤销已挂载的设备文件）</h2><p>格式：umount [挂载点&#x2F;设备文件]</p>
<h2 id="fdisk（用于管理磁盘分区）"><a href="#fdisk（用于管理磁盘分区）" class="headerlink" title="fdisk（用于管理磁盘分区）"></a>fdisk（用于管理磁盘分区）</h2><p>格式：fdsik [磁盘名称]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>m</td>
<td>查看全部可用的参数</td>
</tr>
<tr>
<td>n</td>
<td>添加新的分区</td>
</tr>
<tr>
<td>d</td>
<td>删除某个分区信息</td>
</tr>
<tr>
<td>l</td>
<td>列出所有可用的分区的类型</td>
</tr>
<tr>
<td>p</td>
<td>查看分区表信息</td>
</tr>
<tr>
<td>w</td>
<td>保存并退出</td>
</tr>
<tr>
<td>q</td>
<td>不保存直接退出</td>
</tr>
</tbody></table>
<h2 id="mkfs（用于格式化分区）"><a href="#mkfs（用于格式化分区）" class="headerlink" title="mkfs（用于格式化分区）"></a>mkfs（用于格式化分区）</h2><p>格式：mkfs.[分区格式] [硬盘分区名]</p>
<p>例：mkfs.xfs &#x2F;dev&#x2F;sdb1</p>
<h2 id="df（查看挂载点信息与磁盘使用量）"><a href="#df（查看挂载点信息与磁盘使用量）" class="headerlink" title="df（查看挂载点信息与磁盘使用量）"></a>df（查看挂载点信息与磁盘使用量）</h2><p>格式：df [选项] [文件]</p>
<p>查看挂载信息与硬盘使用量：df -h</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>显示所有的文件系统(包括虚拟的)</td>
</tr>
<tr>
<td>-total</td>
<td>展出出总体使用量</td>
</tr>
<tr>
<td>-h</td>
<td>更易读的容量格式如1K，234M，2G···</td>
</tr>
<tr>
<td>-i</td>
<td>展示出inode的信息(默认是磁盘使用信息)</td>
</tr>
<tr>
<td>-T</td>
<td>显示出文件系统的类型</td>
</tr>
</tbody></table>
<h2 id="du（查看磁盘的使用量）"><a href="#du（查看磁盘的使用量）" class="headerlink" title="du（查看磁盘的使用量）"></a>du（查看磁盘的使用量）</h2><p>格式：du [选项] [文件]</p>
<p>查看更目录中个文件夹所占空间：dh sh &#x2F;</p>
<p>查看档案目录下个文件夹所占看就看“du -sh *</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>评估每个文件而非目录整体占用量</td>
</tr>
<tr>
<td>-c</td>
<td>评估每个文件并计算出总占用量总和</td>
</tr>
<tr>
<td>-h</td>
<td>更易读的容量格式如1K,234M,2G···</td>
</tr>
<tr>
<td>-s</td>
<td>仅显示占用量总和</td>
</tr>
</tbody></table>
<h2 id="mdadm（管理系统软件RAID硬盘阵列）"><a href="#mdadm（管理系统软件RAID硬盘阵列）" class="headerlink" title="mdadm（管理系统软件RAID硬盘阵列）"></a>mdadm（管理系统软件RAID硬盘阵列）</h2><p>格式：mdadm [模式] &lt;RAID设备名称&gt; [选项] [成员设备名称]</p>
<p>mdadm管理RAID阵列的动作：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>Assemble</td>
<td>将设备加入到以前定义的阵列</td>
</tr>
<tr>
<td>Build</td>
<td>创建一个没有超级块的阵列</td>
</tr>
<tr>
<td>Create</td>
<td>创建一个新的阵列，每个设备具有超级块</td>
</tr>
<tr>
<td>Manage</td>
<td>管理阵列(如添加和删除)</td>
</tr>
<tr>
<td>Misc</td>
<td>允许单独对阵列的某个设备进行操作(如停止阵列)</td>
</tr>
<tr>
<td>Follow or Monitor</td>
<td>监控状态</td>
</tr>
<tr>
<td>Grow</td>
<td>改变阵列的容量或设备数目</td>
</tr>
</tbody></table>
<p>mdadm管理RAID阵列的参数：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>检测设备名称</td>
</tr>
<tr>
<td>-n</td>
<td>指定设备数量</td>
</tr>
<tr>
<td>-l</td>
<td>指定raid级别</td>
</tr>
<tr>
<td>-C</td>
<td>创建</td>
</tr>
<tr>
<td>-v</td>
<td>显示过程</td>
</tr>
<tr>
<td>-f</td>
<td>模拟设备损坏</td>
</tr>
<tr>
<td>-r</td>
<td>移除设备</td>
</tr>
<tr>
<td>-a</td>
<td>添加设备</td>
</tr>
<tr>
<td>-Q</td>
<td>查看摘要信息</td>
</tr>
<tr>
<td>-D</td>
<td>查看详细信息</td>
</tr>
<tr>
<td>-S</td>
<td>停止阵列</td>
</tr>
</tbody></table>
<h2 id="ln（用于创建链接文件）"><a href="#ln（用于创建链接文件）" class="headerlink" title="ln（用于创建链接文件）"></a>ln（用于创建链接文件）</h2><p>格式：ln [选项] 目标</p>
<p>创建硬链接：”ln 文件名 连接名”</p>
<p>创建软链接：”ln -s 文件名 连接名”</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-s</td>
<td>创建”符号链接”（默认是硬链接）</td>
</tr>
<tr>
<td>-f</td>
<td>强制创建文件或目录的链接</td>
</tr>
<tr>
<td>-i</td>
<td>覆盖前先询问</td>
</tr>
<tr>
<td>-v</td>
<td>显示创建链接的过程</td>
</tr>
</tbody></table>
<h2 id="iptables（用于管理防火墙的规则策略）"><a href="#iptables（用于管理防火墙的规则策略）" class="headerlink" title="iptables（用于管理防火墙的规则策略）"></a>iptables（用于管理防火墙的规则策略）</h2><p>格式：iptables[-t 表名] 选项 [链名] [条件] [-j 控制类型]</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-P</td>
<td>设置默认策略：iptables -P INPUT （DROP\</td>
</tr>
<tr>
<td>-F</td>
<td>清空规则链</td>
</tr>
<tr>
<td>-L</td>
<td>查看规则链</td>
</tr>
<tr>
<td>-A</td>
<td>在规则链的末尾加入新规则</td>
</tr>
<tr>
<td>-I num</td>
<td>在规则链的头部加入新规则</td>
</tr>
<tr>
<td>-D num</td>
<td>删除某一条规则</td>
</tr>
<tr>
<td>-s</td>
<td>匹配来源地址IP&#x2F;MASK，加叹号”!”表示除这个IP外</td>
</tr>
<tr>
<td>-d</td>
<td>匹配目标地址</td>
</tr>
<tr>
<td>-i 网卡名称</td>
<td>匹配从这块网卡流入的数据</td>
</tr>
<tr>
<td>-o 网卡名称</td>
<td>匹配从这块网卡流出的数据</td>
</tr>
<tr>
<td>-p</td>
<td>匹配协议，如tcp,udp,lcmp</td>
</tr>
<tr>
<td>-dport num</td>
<td>匹配目标端口号</td>
</tr>
<tr>
<td>-sport num</td>
<td>匹配来源端口号</td>
</tr>
</tbody></table>
<hr>
<h1 id="管道符、重定向与环境变量"><a href="#管道符、重定向与环境变量" class="headerlink" title="管道符、重定向与环境变量"></a>管道符、重定向与环境变量</h1><h2 id="管道命令符”-”"><a href="#管道命令符”-”" class="headerlink" title="管道命令符”|”"></a>管道命令符”|”</h2><p>管道命令符“|”的作用是将前一个命令的<u>标准输出</u>当做后一个命令的<u>标准输入</u>，格式为”<u>命令A|命令B</u>“。</p>
<p>例如前面学习的grep命令匹配关键词(&#x2F;sbin&#x2F;login)找出所有被限制登录系统的用户，如果我们希望统计所有不允许登录系统的用户个数，该怎么做呢：</p>
<p>首先理清思路：</p>
<p>找出被限制登录用户的命令：grep “&#x2F;sbin&#x2F;nologin” &#x2F;etc&#x2F;passwd</p>
<p>统计文本行数的命令则是：wc -l</p>
<p>现在要做的事就是将搜索命令的输出值传递给统计命令，其实只要把管道符夹在中间就可以了。</p>
<p>因此结果即为：grep “&#x2F;sbin.nologin&#x2F;” &#x2F;etc&#x2F;passwd | wc -l</p>
<p>以下为部分管道符使用例子：</p>
<p>1、用翻页的形式查看&#x2F;etc目录中又哪些文件</p>
<p>ls -l &#x2F;etc | more</p>
<p>2、向linuxprobe用户发送一封邮件</p>
<p>echo “content” | mail -s “Subject” linuxprobe</p>
<p>3、使用非交互式设置用户密码，将root的密码修改为linuxprobe</p>
<p>echo “linuxprobe” | passwd -stdin root</p>
<h2 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h2><p>先做一个简单的演示</p>
<p>查看linuxprobe目录的信息：</p>
<p>ls linuxprobe&#x2F;</p>
<p>(……文件信息)</p>
<p>ls xxxxx&#x2F;</p>
<p>ls: cannot access xxxxx:no such file or directory</p>
<p>[前者执行后返回的是<u>标准输出</u>,后者执行失败返回的是<u>错误输出</u>]</p>
<p>标准输入(STDIN,文件描述符为0：默认从键盘输入，为0时表示是从其它文件或命令的输出<br>标准输出(STDOUT,文件描述符为1)：默认输出到屏幕，为1时表示是文件<br>错误输出(STDERR，文件描述符为2)：默认输出到屏幕，为2时表示是文件</p>
<p>对于输出重定向符有这些情况：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &gt; 文件</td>
<td>将标准输出重定向到一个文件中（清空原有文件的数据）</td>
</tr>
<tr>
<td>命令 2&gt; 文件</td>
<td>将错误输出重定向到一个文件中(清空原有文件的数据)</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件</td>
<td>将标准输出重定向到一个文件中(追加到原有内容的后面)</td>
</tr>
<tr>
<td>命令 2&gt;&gt; 文件</td>
<td>将错误标准输出重定向到一个文件中(追加到原有内容的后面)</td>
</tr>
<tr>
<td>命令 &gt;&gt; 文件 2&gt;$1</td>
<td>将标准输出与错误输出共同写入到文件中(追加到原有内容的后面)</td>
</tr>
</tbody></table>
<p>对于输入重定向有这些情况：</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>命令 &lt; 文件</td>
<td>将文件作为命令的标准输入</td>
</tr>
<tr>
<td>命令 &lt;&lt; 分界符</td>
<td>从标准输入中读入，知道遇见“分界符”才停止</td>
</tr>
<tr>
<td>命令 &lt; 文件1 &gt; 文件2</td>
<td>将文件1作为命令的标准输入并将标准输出到文件2</td>
</tr>
</tbody></table>
<p>那么来做几个输出和输入重定向的实验：</p>
<p>1、将man命令的帮助文档写入到&#x2F;root&#x2F;man.txt中：</p>
<p>man bash &gt; &#x2F;root&#x2F;man.txt</p>
<p>2、向readme.txt追加一行文字</p>
<p>echo ”test” &gt;&gt; readme.txt</p>
<p>3、将readme.txt文件作为输入重定向给 wc -l 命令来计算行数</p>
<p>wl -l &lt; readme.txt</p>
<h2 id="命令行通配符"><a href="#命令行通配符" class="headerlink" title="命令行通配符"></a>命令行通配符</h2><table>
<thead>
<tr>
<th>通配符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配零个或多个字符</td>
</tr>
<tr>
<td>？</td>
<td>匹配任意单个字符</td>
</tr>
<tr>
<td>[0-9]</td>
<td>匹配范围内的数字</td>
</tr>
<tr>
<td>[abc]</td>
<td>匹配已出额度任意字符</td>
</tr>
</tbody></table>
<p>bash解释器还支持很多的特殊字符拓展：</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>\ (反斜杠)</td>
<td>转义后面单个字符，例如$是变量定一个符号会报错，可以通过\来进行转义</td>
</tr>
<tr>
<td>‘’(单引号)</td>
<td>转义所有的字符</td>
</tr>
<tr>
<td>“”(双引号)</td>
<td>变量依然生效</td>
</tr>
<tr>
<td>“(反引号)</td>
<td>执行命令语句</td>
</tr>
</tbody></table>
<p>1、定义一个变量</p>
<p>Price&#x3D;5</p>
<p>2、输出Price is 5</p>
<p>echo “Price is $Price”</p>
<p>3、但如果想要输出Price is 5，就会因为是变量定义而报错，这时候可以使用转义字符\</p>
<p>echo “Price is $$Price”</p>
<p>4、使用单引号，变量将不再被取代</p>
<p>echo ‘Price is $$Price’</p>
<p>Price is $$Price</p>
<p>5、执行uname -a 后可以查看到本机内核的版本与架构 (反引号里面的命令会被执行)：</p>
<p>echo ’uname -a’</p>
<h2 id="PATH变量"><a href="#PATH变量" class="headerlink" title="PATH变量"></a>PATH变量</h2><p>在linux中一切都是文件，命令文件也不例外，在用户执行一条’ls’命令后发生了什么：</p>
<p>1、如果是以绝对&#x2F;相对路径输入的命令则直接执行(如执行&#x2F;bin&#x2F;ls)</p>
<p>2、检查是否为alias别名命令</p>
<p>3、有bash判断其是’内部命令’还是’外部命令’</p>
<p>内部命令：属于解释器内部的</p>
<p>外部命令：独立于解释器外的命令文件</p>
<p>4、通过$PATH变量中定义的路径进行命令查找</p>
<p>查看PATH变量的方法：echo PATH</p>
<p>使用 ‘type 命令名字’来得知是内部命令还是外部命令</p>
<p>在$PATH中目录之间用 : 间隔开了</p>
<p>为变量增加新的值：PATH&#x3D;$PATH:[路径]</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><table>
<thead>
<tr>
<th>变量名称</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>HOME</td>
<td>用户的主目录”家”</td>
</tr>
<tr>
<td>SHELL</td>
<td>当前的shell是哪个程序</td>
</tr>
<tr>
<td>HISTSIZE</td>
<td>历史命令记录条数</td>
</tr>
<tr>
<td>MAIL</td>
<td>右键信箱文件</td>
</tr>
<tr>
<td>LANG</td>
<td>语系数据</td>
</tr>
<tr>
<td>RANDOM</td>
<td>随机数字</td>
</tr>
<tr>
<td>PS1</td>
<td>bash提示符</td>
</tr>
<tr>
<td>HISTFILESIZE</td>
<td>history命令存储数量</td>
</tr>
<tr>
<td>PATH</td>
<td>在路径中得目录查找执行文件</td>
</tr>
<tr>
<td>EDITOR</td>
<td>默认文本编辑器</td>
</tr>
<tr>
<td>HOME</td>
<td>用户主目录</td>
</tr>
</tbody></table>
<p>创建变量：[变量名]&#x3D;[提供的值]</p>
<p>用户创建的变量只是局部变量，若要别的用户也能使用可以通过export提升至全局变量</p>
<h2 id="了解vim编辑器"><a href="#了解vim编辑器" class="headerlink" title="了解vim编辑器"></a>了解vim编辑器</h2><table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>dd</td>
<td>删除(剪切)光标所在的整行</td>
</tr>
<tr>
<td>5dd</td>
<td>删除(剪切)从光标处开始的5行</td>
</tr>
<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>
<tr>
<td>5yy</td>
<td>复制从光标处开始的5行</td>
</tr>
<tr>
<td>p</td>
<td>将之前删除(dd)或符直(yy)过的数据贴到光标后</td>
</tr>
<tr>
<td>&#x2F;字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>
<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>
<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>
</tbody></table>
<p>vim编辑器的末行模式中的常用命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>推出</td>
</tr>
<tr>
<td>:q!</td>
<td>强制退出(放弃对文本的修改内容)</td>
</tr>
<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>
<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>
</tbody></table>
<h2 id="配置网卡信息"><a href="#配置网卡信息" class="headerlink" title="配置网卡信息"></a>配置网卡信息</h2><p>网卡配置文件的前缀为 “eth”，第一块为eth0，第二块为eht1，以此类推……</p>
<p>在RHEL7系统中网卡配置文件的前缀则为ifcfg-eno</p>
<blockquote>
<p>网卡的配置文件存放在 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts目录中</p>
<p>网卡配置文件关键词术语：</p>
<p>网卡类型：TYPE&#x3D;Ethernet</p>
<p>地址分配模式：BOOTPROTO&#x3D;static</p>
<p>网卡名称：NAME&#x3D;eno…..<br>是否启动：onboot&#x3D;yes</p>
<p>IP地址：IPADDR&#x3D;X.X.X.X</p>
<p>子网掩码：NETMASK&#x3D;X.X.X.X</p>
<p>网卡地址：GATEWAY&#x3D;192.168.10.1</p>
<p>DNS地址：DNS1&#x3D;192.168.10.1</p>
</blockquote>
<blockquote>
<p>配置网卡信息简单思路：</p>
<p>1、切换到 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts 目录中</p>
<p>2、使用vim命令修改网卡配置文件 ifcfg-eno…</p>
<p>3、逐项写入配置参数，并保存退出</p>
<p>4、重新启动网卡命令 systemctl restart network</p>
<p>5、通过ping命令测试网卡信息是否生效</p>
</blockquote>
<h2 id="配置yum仓库"><a href="#配置yum仓库" class="headerlink" title="配置yum仓库"></a>配置yum仓库</h2><blockquote>
<p>配置光盘yum源挂载：</p>
<p>1、切换到 &#x2F;etc&#x2F;yum.repos.d 目录(该目录存放yum仓库配置文件)</p>
<p>2、使用vim编辑器创建并打开一个名为 xxx.repo的新文件，名称自定义，后缀为repo</p>
<p>3、逐项写入配置参数，并保存退出</p>
<p>4、按配置参数的路径将光盘挂在</p>
<p>5、架构光盘挂载信息写入到&#x2F;etc&#x2F;fstab文件中</p>
<p>6、使用yum install https -y 命令检查是否配置正确</p>
</blockquote>
<p>简单的repo文件配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[test]</span><br><span class="line">name=test</span><br><span class="line">baseurl=<span class="keyword">file</span>:///media/cdrom</span><br><span class="line">enabled=<span class="number">1</span></span><br><span class="line">gpgcheck=<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>创建光盘的挂载目录：</p>
<p>mkdir -p &#x2F;media&#x2F;cdrom</p>
<p>挂载光盘：</p>
<p>mount &#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom</p>
<p>设置开机自动挂载：</p>
<p>vim &#x2F;etc&#x2F;fstab</p>
<p>&#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom iso9660 defaults 0 0</p>
<h2 id="了解shell脚本"><a href="#了解shell脚本" class="headerlink" title="了解shell脚本"></a>了解shell脚本</h2><p>查看系统中所有可用的shell解释器：</p>
<p>cat &#x2F;etc&#x2F;shells</p>
<p>查看当前的shell解释器：</p>
<p>echo $SHELL</p>
<h3 id="编译简单的脚本"><a href="#编译简单的脚本" class="headerlink" title="编译简单的脚本"></a>编译简单的脚本</h3><p>shell脚本的编写要使用到vim文本编辑器，按照命令的执行顺序一次编写，每行写一条linux命令。并且一个完整的shell脚本则应该包括”脚本声明”、”注释信息”和”可执行语句”。</p>
<p>脚本声明(#!)：告知系统用何种shell来解释</p>
<p>注释信息(#)：对可执行语句或程序功能做介绍，可以不写</p>
<p>可执行语句：执行的具体命令</p>
<p>一个简单的shell脚本示例：</p>
<p>vim example.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示当前的工作路径并列出当前目录下的所有文件与属性</span></span><br><span class="line">pwd</span><br><span class="line">ls -al</span><br></pre></td></tr></table></figure>

<p>执行脚本有三种方法：</p>
<p>1、脚本文件路径：&#x2F;example.sh</p>
<p>2、sh脚本文件路径：sh example.sh</p>
<p>3、source脚本文件路径：source example.sh</p>
<p>(只要脚本文件路径没有写错，sh或source命令都可以直接执行改脚本，但一般来说可能会出现权限不足的错误，所以需要使用chmod来赋予权限)</p>
<p>chmod u+x example.sh</p>
<h3 id="接收用户的参数"><a href="#接收用户的参数" class="headerlink" title="接收用户的参数"></a>接收用户的参数</h3><p>shell脚本能够让用户更灵活的完成工作需求，应该有办法接受用户输入的参数，像上面的脚本的写法真的很不灵活</p>
<p>在可执行文件中已经内设：命令名 参数1 参数2 参数3</p>
<table>
<thead>
<tr>
<th>$0</th>
<th>当前执行的shell脚本的程序名</th>
</tr>
</thead>
<tbody><tr>
<td>$1-9,{10},{11}…</td>
<td>参数的位置变量</td>
</tr>
<tr>
<td>$#</td>
<td>一共有多少个变量</td>
</tr>
<tr>
<td>$**</td>
<td>所有位置变量的值</td>
</tr>
<tr>
<td>$?</td>
<td>判断上一条命令是否执行成功，0为成功，非0为失败</td>
</tr>
</tbody></table>
<p>一个可以接收用户参数的shell脚本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;当前脚本名称为$0&quot;</span><br><span class="line">echo &quot;总共有$#个参数，分别是$*&quot;</span><br><span class="line">echo &quot;第一个参数为$!,第五个为$5&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@zhou tmp]# sh example.sh 1 2 3 4 5</span><br><span class="line">当前脚本名称为example.sh</span><br><span class="line">总共有5个参数，分别是1 2 3 4 5</span><br><span class="line">第一个参数为,第五个为5</span><br></pre></td></tr></table></figure>

<h3 id="判断用户的参数"><a href="#判断用户的参数" class="headerlink" title="判断用户的参数"></a>判断用户的参数</h3><p>shell脚本有时还要判断用户输入的参数，例如像mkdir命令一眼，当目录不存在则创建，若已存在则报错，条件测试语句能够测试特定的表达式是否成立，当条件成立时返回值0，否则返回其他数值</p>
<p>测试语句格式：[ 条件表达式 ] (需要注意的是两边均应有一个空格)</p>
<p>细分测试语句有：文件测试、逻辑测试、整数值比较、字符串比较</p>
<p>文件测试：[ 操作符 文件或目录名 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>测试是否为目录</td>
</tr>
<tr>
<td>-e</td>
<td>测试文件或目录是否存在</td>
</tr>
<tr>
<td>-f</td>
<td>判断是否为文件</td>
</tr>
<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>
<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>
<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@zhou tmp]# [ -d /etc/fstab ]</span><br><span class="line">[root@zhou tmp]# echo $?          </span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@zhou tmp]# [ -f /etc/fstab ]</span><br><span class="line">[root@zhou tmp]# echo $?          </span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p>符号&amp;&amp;代表逻辑上的”与”，当前面的命令执行成功后才会执行后面的命令</p>
<p>判断&#x2F;dev&#x2F;stdin是否存在，若存在则输出exist</p>
<p>[root@zhou ~]# [ -e &#x2F;dev&#x2F;stdin ] &amp;&amp; echo “exist”<br>exist</p>
<p>逻辑测试：[ 表达式1 ] 操作符 [ 表达式2 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;&amp;</td>
<td>逻辑的与，”而且”的意思</td>
</tr>
<tr>
<td></td>
<td>\</td>
</tr>
<tr>
<td>!</td>
<td>逻辑的否</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">USER变量是当前登录的用户名</span><br><span class="line">[root@zhou ~]# echo $USER                      </span><br><span class="line">root</span><br><span class="line"></span><br><span class="line">若当前登录的用户不是root，输出user，是root则为空</span><br><span class="line">[root@zhou ~]# [ $USER! = root ] &amp;&amp; echo &quot;user&quot;  </span><br><span class="line"></span><br><span class="line">非root输出user，root输出root</span><br><span class="line">[root@zhou ~]# [ $USER! = root ] &amp;&amp; echo &quot;user&quot; || echo &quot;root&quot;</span><br></pre></td></tr></table></figure>

<p>整数值比较：[ 整数1 操作符 整数2 ]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-eq</td>
<td>判断是否等于</td>
</tr>
<tr>
<td>-ne</td>
<td>判断是否不等于</td>
</tr>
<tr>
<td>-gt</td>
<td>判断是否大于</td>
</tr>
<tr>
<td>-lt</td>
<td>判断是否小于</td>
</tr>
<tr>
<td>-le</td>
<td>哦安短是否等于或小于</td>
</tr>
<tr>
<td>-ge</td>
<td>判断是否大于或等于</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">比较10是否大于10</span><br><span class="line">[root@zhou ~]# [ 10 -gt 10 ] </span><br><span class="line">[root@zhou ~]# echo $?</span><br><span class="line">1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">显示上一条命令执行失败，10不大于10</span></span><br><span class="line"></span><br><span class="line">比较10是否等于10</span><br><span class="line">[root@zhou ~]# [ 10 -eq 10 ]</span><br><span class="line">[root@zhou ~]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">获取当前可用的内存量，并将此值赋值给变量freemem</span><br><span class="line">首先用free-m查看以m为单位的内存使用情况</span><br><span class="line">然后grep cache过滤出剩余内存的行</span><br><span class="line">最后用awk &#x27;&#123;print $3&#125;&#x27;过滤只保留第三列</span><br><span class="line">而freemen=&#x27;语句&#x27;则表示执行里面的雨具后赋值给变量</span><br></pre></td></tr></table></figure>

<p>字符串比较：[字符串 1 操作符 字符串2]</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>比较字符串内容是否相同</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>比较字符串内容是否不同</td>
</tr>
<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断string变量是否为空</span></span><br><span class="line">[root@zhou tmp]# [ -z $string ]</span><br><span class="line">[root@zhou tmp]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h3 id="条件测试语句"><a href="#条件测试语句" class="headerlink" title="条件测试语句"></a>条件测试语句</h3><h4 id="if条件语句"><a href="#if条件语句" class="headerlink" title="if条件语句"></a>if条件语句</h4><p>if条件语句分为 单分支结构、双分支结构、多分支结构</p>
<p>单分支结构：仅用if、then、fi关键词组成，只在条件成立后执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">DIR=&quot;/media/cdrom&quot;</span><br><span class="line">if [ ! -e $DIR ]</span><br><span class="line">then</span><br><span class="line">mkdir -p $DIR</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断目录是否存在，若不存在则自动创建</span></span><br></pre></td></tr></table></figure>

<p>双分支结构：由if、then、else、fi关键词组成，做条件成立或条件不成立的判断</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">ping -c 3 -i 0.2 -W 3 $1 &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then </span><br><span class="line">echo &quot;host $1 is up&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;host $1 is down&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">判断主机能否ping通，根据返回结果分别给予提示或警告</span></span><br><span class="line"> ping -c 代表发送的数据包额度个数</span><br><span class="line"> ping -i 代表每0.2秒发送一个数据包</span><br><span class="line"> ping -W 代表3秒即超时</span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">1为用户输入额度第一个参数</span></span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">?为上一条命令的执行结果，判断是否等于0(0为成功)</span></span><br></pre></td></tr></table></figure>

<p>多分支结构：是有if、then、else、elif、fi关键词组成，根据多种条件成立的可能性执行不同的操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Enter your score (0-100): &quot; GRADE</span><br><span class="line">if [ $GRADE -ge 85 ] &amp;&amp; [ $GRADE -le 100 ];then</span><br><span class="line">echo &quot;$GRADE is Excellent&quot;</span><br><span class="line">elif [ $GRADE -ge 70 ] &amp;&amp; [ $GRADE -le 84 ];then</span><br><span class="line">echo &quot;$GRADE is PASS&quot;</span><br><span class="line">else echo &quot;$GRADE is Fail&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"> #</span><span class="language-bash">判断用户呼入的分数在哪个区间内，然后判定为优秀、合格或不合格</span></span><br><span class="line"> 使用read命令让用户为GRADE变量赋值</span><br><span class="line"> 大于85小于100输出excellent</span><br><span class="line"> 大于70小于84输出pass</span><br><span class="line"> 其余情况输出fail</span><br></pre></td></tr></table></figure>

<h4 id="for条件语句"><a href="#for条件语句" class="headerlink" title="for条件语句"></a>for条件语句</h4><p>for条件语句会先读取多个不同的变量值，然后逐一执行同一组命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建用户名文件</span><br><span class="line">[root@zhou tmp]# vim test.txt </span><br><span class="line">andy</span><br><span class="line">barry</span><br><span class="line">carl</span><br><span class="line">duke</span><br><span class="line">eric</span><br><span class="line">george</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Enter the password: &quot; PASSWD</span><br><span class="line">for UNAME in `cat test.txt`</span><br><span class="line">do</span><br><span class="line">id $UNAME &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;Already exists&quot;</span><br><span class="line">else</span><br><span class="line">useradd $UNAME &amp;&gt; /dev/null</span><br><span class="line">echo &quot;$PASSWD&quot; | passwd --stdin $UNAME &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ]</span><br><span class="line">then</span><br><span class="line">echo &quot;Create success&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;Create failure&quot;</span><br><span class="line">fi</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> shell脚本提示用户输入要设置的密码并赋值给PASSWD变量</span><br><span class="line"> 从test.txt文件中读入用户名并赋值给UNAME变量</span><br><span class="line"> 而查看用户的信息都重定向到/dev/null文件，不显示屏幕</span><br></pre></td></tr></table></figure>

<p>2、测试主机是否在线</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">首先创建主机地址列表：</span><br><span class="line">[root@zhou tmp]# vim ipadds.txt</span><br><span class="line">192.168.10.10</span><br><span class="line">192.168.10.11</span><br><span class="line">192.168.10.12</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">HLIST=$(cat /tmp/ipadds.txt)</span><br><span class="line">for IP in $HLIST</span><br><span class="line">do</span><br><span class="line">ping -c 3 -i 0.2 -W 3 $IP &amp;&gt; /dev/null</span><br><span class="line">if [ $? -eq 0 ] ; then</span><br><span class="line">echo &quot;Host $IP is up.&quot;</span><br><span class="line">  se</span><br><span class="line">echo &quot;Host $IP is down.&quot;</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> 从ipadds.txt中读取主机地址后赋值给HLIST变量</span><br><span class="line"> 逐个ping列表中的主机IP地址测试主机是否在线</span><br></pre></td></tr></table></figure>

<h4 id="while条件语句"><a href="#while条件语句" class="headerlink" title="while条件语句"></a>while条件语句</h4><p>while条件语句用于测试重复测试某个条件，当小件成立时则继续重复执行</p>
<p>随机生成0-999的数字，猜数字</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">PRICE=$(expr $RANDOM % 1000)</span><br><span class="line">TIMES=0</span><br><span class="line">echo &quot;randow 0-999&quot;</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">read -p &quot;input numbers: &quot; INT</span><br><span class="line">let TIMES++</span><br><span class="line">if [ $INT -eq $PRICE ] ; then</span><br><span class="line">echo &quot;It&#x27;s $PRICE&quot;</span><br><span class="line">echo &quot;猜了 $TIMES 次&quot;</span><br><span class="line">exit 0</span><br><span class="line">elif [ $INT -gt $PRICE ] ; then</span><br><span class="line">echo &quot;so high&quot;</span><br><span class="line">else</span><br><span class="line">echo &quot;so low&quot;</span><br><span class="line">fi</span><br><span class="line">done </span><br><span class="line"></span><br><span class="line"> let可以使变量进行运算，无需加$</span><br></pre></td></tr></table></figure>

<h4 id="case条件语句"><a href="#case条件语句" class="headerlink" title="case条件语句"></a>case条件语句</h4><p>case条件语句可以依据变量的不同数值，分别执行不同的命令动作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;输入一个字符: &quot; KEY</span><br><span class="line">case &quot;$KEY&quot; in</span><br><span class="line">[a-z]|[A-Z])</span><br><span class="line">echo &quot;输入的是字母。&quot;</span><br><span class="line">;;</span><br><span class="line">[0-9])</span><br><span class="line">echo &quot;输入的是数字。&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;输入的是其他。&quot;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line"> 提示用户输入一个字符，判断该字符是字母、数字或特殊字符</span><br><span class="line"> ;;相当于break的效果，退出</span><br></pre></td></tr></table></figure>

<h1 id="用户身份与文件权限"><a href="#用户身份与文件权限" class="headerlink" title="用户身份与文件权限"></a>用户身份与文件权限</h1><h2 id="用户身份与能力"><a href="#用户身份与能力" class="headerlink" title="用户身份与能力"></a>用户身份与能力</h2><h3 id="UID值"><a href="#UID值" class="headerlink" title="UID值"></a>UID值</h3><p>（User IDentification的缩写）每个用户都有对应的UID值，就像身份证号码</p>
<p>超级用户UID：root用户默认为0</p>
<p>系统用户UID1-999：系统中系统服务由不同用户运行，更加安全，默认被限制登录系统</p>
<p>普通用户UID1000-：即管理员创建的用于日常工作而不能管理系统的普通用户</p>
<p>(注意UID一定是不能冲突的，管理员创建的普通用户UID从1000开始，即便前面有闲置的号码)</p>
<p>账户名称与UID保存在&#x2F;etc&#x2F;passwd文件中，而账户密码则保存在&#x2F;etc&#x2F;shadow文件中</p>
<h3 id="GID"><a href="#GID" class="headerlink" title="GID"></a>GID</h3><p>（Group IDentification的缩写）：可将多个用户加入某个组，方便指派任务或工作</p>
<p>每个用户在被创建时均会创建一个默认组（其GID与UID相同，俗称基本组）而后加入的则叫拓展组，一定要分清楚。</p>
<p>用户组名称与GID保存在&#x2F;etc&#x2F;group文件中</p>
<h2 id="文件权限与归属"><a href="#文件权限与归属" class="headerlink" title="文件权限与归属"></a>文件权限与归属</h2><p>linux中一切都是文件，文件和目录的所属与权限——来分别规定所有者、所有者、其余人的读、写、执行权限</p>
<p>读（read）、写（write）、执行（excute），简写（r，w，x），也可用数字（4,2,1）表示</p>
<hr>
<p>第一位代表文件类型：</p>
<table>
<thead>
<tr>
<th>-</th>
<th>普通文件</th>
</tr>
</thead>
<tbody><tr>
<td>d</td>
<td>目录文件</td>
</tr>
<tr>
<td>l</td>
<td>链接文件</td>
</tr>
<tr>
<td>b</td>
<td>块设备文件</td>
</tr>
<tr>
<td>c</td>
<td>字符设备文件</td>
</tr>
<tr>
<td>p</td>
<td>管道文件</td>
</tr>
</tbody></table>
<p>普通文件即实际保存数据的地方，其并不具备删除自身的权限：</p>
<p>    r：可读取文件的实际内容</p>
<p>    w：可编辑&#x2F;新增&#x2F;修改该文件的实际内容</p>
<p>    x：可被执行</p>
<p>目录文件即保存有目录结构和文件权限：</p>
<p>    r：可读取目录结构和权限</p>
<p>    w：可更爱目录结构列表，新建&#x2F;删除&#x2F;重命名&#x2F;、转移子文件&#x2F;目录</p>
<p>    x：表示用户可进入到该目录中</p>
<h2 id="文件的特殊权限"><a href="#文件的特殊权限" class="headerlink" title="文件的特殊权限"></a>文件的特殊权限</h2><p>单纯对文件位置的rwx权限肯定不能满足我们对于安全、便捷工作的需求，所有便有了SUID和SGID的特殊权限机制</p>
<h3 id="SUID"><a href="#SUID" class="headerlink" title="SUID"></a>SUID</h3><p>让执行者临时拥有主的权限（仅对有执行权限的二进制程序有效）</p>
<p>比如所有用户都可以执行用于修改用户密码的passwd命令，单用户密码保存在&#x2F;etc&#x2F;shadown文件中，默认权限是000即除了root外所有用户都没有查看或编辑该文件的权限，所以对passwd命令加上SUID权限位，则可让普通用户临时获得程序所有者的身份，即以root用户的身份将变更的密码信息写入到shadow文件中。</p>
<h3 id="SGID"><a href="#SGID" class="headerlink" title="SGID"></a>SGID</h3><p>功能一：让执行者临时拥有属组的权限（对拥有执行权限的二进制程序设置）</p>
<hr>
<h2 id="文件的隐藏属性"><a href="#文件的隐藏属性" class="headerlink" title="文件的隐藏属性"></a>文件的隐藏属性</h2><p>文件权限除了读写执行与SUID、SGID、SBIT外还有一种隐藏权限，例如明明有权限删除某个文件却报错了，或者仅能为某个文件追加内容而不能减少内容，遇到这种很”奇怪”的文件，就要怀疑是文件被设置隐藏权限了</p>
<p>主要命令：</p>
<p>chattr</p>
<p>lsattr</p>
<h2 id="文件访问控制列表"><a href="#文件访问控制列表" class="headerlink" title="文件访问控制列表"></a>文件访问控制列表</h2><p>rwx权限、特殊权限、隐藏权限都是对某一类用户设置的，如果对某个制定的用户进行单独的权限设置，那么就需要用文件的访问控制列表来实现啦。</p>
<p>我们可以基于普通文件或目录设置进行设置ACL，通俗来说ACL就是设置指定的特定用户或用户组队某个文件的操作权限。并且如果对某个目录设置了访问控制策略，那么子文件则继承其访问策略，而若对文件设置了访问控制策略则不再继承上级目录的控制策略。</p>
<p>有点类似于Windows系统的安全策略</p>
<p>主要命令：</p>
<p>setfacl</p>
<p>getfacl</p>
<h1 id="存储结构与磁盘划分"><a href="#存储结构与磁盘划分" class="headerlink" title="存储结构与磁盘划分"></a>存储结构与磁盘划分</h1><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>主要常见的目录定义：</p>
<table>
<thead>
<tr>
<th>目录名称</th>
<th>应放置文件的内容</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;boot</td>
<td>开机所需文件——内核，开机菜单及所需配置文件等</td>
</tr>
<tr>
<td>&#x2F;dev</td>
<td>任何设备与接口都以文件形式存放在此目录</td>
</tr>
<tr>
<td>&#x2F;etc</td>
<td>配置文件</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>用户主目录</td>
</tr>
<tr>
<td>&#x2F;bin</td>
<td>单用户维护模式下还能够被操作的命令</td>
</tr>
<tr>
<td>&#x2F;lib</td>
<td>开机时用到的函数库及&#x2F;bin与&#x2F;sbin下面命令要调用的函数</td>
</tr>
<tr>
<td>&#x2F;sbin</td>
<td>开机过程中需要的</td>
</tr>
<tr>
<td>&#x2F;media</td>
<td>一般挂载或删除的设备</td>
</tr>
<tr>
<td>&#x2F;opt</td>
<td>放置第三方的软件</td>
</tr>
<tr>
<td>&#x2F;root</td>
<td>系统管理员的主文件夹</td>
</tr>
<tr>
<td>&#x2F;srv</td>
<td>一些网络服务的数据目录</td>
</tr>
<tr>
<td>&#x2F;tmp</td>
<td>任何人均可使用的”共享”临时目录</td>
</tr>
<tr>
<td>&#x2F;proc</td>
<td>虚拟文件系统，例如系统内核，进程，外部设备及网络状态等</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;local</td>
<td>用户自行安装的软件</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;sbin</td>
<td>非系统开机时需要的软件&#x2F;命令&#x2F;脚本</td>
</tr>
<tr>
<td>&#x2F;usr&#x2F;share</td>
<td>帮助与说明文件，也可放置共享文件</td>
</tr>
<tr>
<td>&#x2F;var</td>
<td>主要存放经常变换的文件，如日志</td>
</tr>
<tr>
<td>&#x2F;lost+found</td>
<td>当文件系统发生错误事，将一些丢失的文件片段存放在这里</td>
</tr>
</tbody></table>
<p>绝对路径(absolute)：由根目录(&#x2F;)开始写起的目录或文件名</p>
<p>相对路径(relative)：相对于当前路径的写法</p>
<h2 id="物理设备的命名规则"><a href="#物理设备的命名规则" class="headerlink" title="物理设备的命名规则"></a>物理设备的命名规则</h2><p>一般采用三个主分区加一个拓展分区的分发，拓展分区中能够创建无数个逻辑分区</p>
<p>主分区不能超过四个</p>
<p>系统内核的设备管理器(Udev)会自动将硬件名称规范起来，让我们可以通过设备名称猜出设备大致的属性以及分区信息等，Udev会一直以守护进程的形式运行并侦听来自内核发出的uevent来管理&#x2F;dev目录下的设备文件</p>
<p>常见的硬件命名如下：</p>
<table>
<thead>
<tr>
<th>硬件设备</th>
<th>文件名称</th>
</tr>
</thead>
<tbody><tr>
<td>IDE设备</td>
<td>&#x2F;dev&#x2F;hd[a-d]</td>
</tr>
<tr>
<td>SCSI&#x2F;SATA&#x2F;U盘</td>
<td>&#x2F;dev&#x2F;sd[a-p]</td>
</tr>
<tr>
<td>软驱</td>
<td>&#x2F;dev&#x2F;df[0-1]</td>
</tr>
<tr>
<td>打印机</td>
<td>&#x2F;dev&#x2F;lp[0-15]</td>
</tr>
<tr>
<td>光驱</td>
<td>&#x2F;dev&#x2F;cdrom</td>
</tr>
<tr>
<td>鼠标</td>
<td>&#x2F;dev&#x2F;mouse</td>
</tr>
<tr>
<td>磁带机</td>
<td>&#x2F;dev&#x2F;st0或者&#x2F;dev&#x2F;hr0(IDE设备)</td>
</tr>
</tbody></table>
<h2 id="文件系统与数据资料"><a href="#文件系统与数据资料" class="headerlink" title="文件系统与数据资料"></a>文件系统与数据资料</h2><p>每个文件的权限与属性都会记录在inode table中（每个文件都会占用一个独立的 inode 表格，默认为128bytes），记录着：</p>
<p>    该文件的访问权限（read，write，execute）</p>
<p>    该文件的所属主与组（owner，group）</p>
<p>    该文件的大小（size）</p>
<p>    该文件的创建或状态修改时间（ctime）</p>
<p>    该文件的最后一次访问时间（atime）</p>
<p>    该文件的修改时间（mtime）</p>
<p>    文件的特殊权限（SUID,SGID,SBIT）</p>
<p>    该文件的真实数据地址（point）</p>
<h2 id="挂载硬件设备"><a href="#挂载硬件设备" class="headerlink" title="挂载硬件设备"></a>挂载硬件设备</h2><p>挂载操作指的是当用户需要使用硬盘设备或分区数据时，需要先将一个已存在的目录文件做关联，而哲哥动作就叫挂载</p>
<p>主要命令：mount、umount</p>
<p>mount是临时挂载，重启后失效，如果想让重启后依然生效，必须修改配置文件&#x2F;etc&#x2F;fstab</p>
<p>“&#x2F;etc&#x2F;fstab”包含着文件系统与挂载信息等内容，因为过于重要，所以只有root用户才可以编辑它</p>
<p>填写格式如下：“设备文件 挂载目录 格式类型 权限选项 自检 优先级”</p>
<blockquote>
<p>设备文件：一般为设备的路径+名称，也可以写UUID值等</p>
<p>挂载目录：指定要挂载的目录，需挂载钱创建好</p>
<p>格式类型：即指定文件系统的格式，比如有ext3&#x2F;ext4&#x2F;xfs&#x2F;iso9660&#x2F;swap等</p>
<p>权限选项：默认为defaults（rw,suid,dev,exec,auto,nouser,async），可指定acl或quota等</p>
<p>自检：若为1开机后进行磁盘自检，0为不自检</p>
<p>优先级：若“自检”为1，则可对多块硬盘进行优先级设置</p>
</blockquote>
<p>例：</p>
<p>定义设备&#x2F;dev&#x2F;sdb2开机自动挂载到&#x2F;backu目录，文件格式ext4，默认权限且无需开机自检</p>
<blockquote>
<p>&#x2F;dev&#x2F;sdb2 &#x2F;backup ext4 defaults 0 0</p>
</blockquote>
<h2 id="添加硬盘设备"><a href="#添加硬盘设备" class="headerlink" title="添加硬盘设备"></a>添加硬盘设备</h2><p>主要命令：fdisk、mkfs</p>
<h2 id="swap-交换分区"><a href="#swap-交换分区" class="headerlink" title="swap(交换分区)"></a>swap(交换分区)</h2><p>SWAP即交换分区是一种类似于Windows系统虚拟内存的功能，将一部分硬盘空间虚拟成内存来使用，从而解决内存容量不足的情况，因为SWAP毕竟是用硬盘资源来虚拟的，所以速度上比真实物理内存要慢很多，一般只有当真实的物理内存耗尽时才会调用SWAP</p>
<h2 id="磁盘冗余阵列"><a href="#磁盘冗余阵列" class="headerlink" title="磁盘冗余阵列"></a>磁盘冗余阵列</h2><p>RAID：即杜丽硬盘组，作用是防止硬盘物理损坏以及增加存储设备的吞吐量，RAID常见的组合有0、1、5、10</p>
<h3 id="RAID0"><a href="#RAID0" class="headerlink" title="RAID0"></a>RAID0</h3><blockquote>
<p>RAID0需要至少两块硬盘，可以有效的提高硬盘的性能和吞吐量，但没有数据的冗余和错误修复能力</p>
<p>多块硬盘串联在一起，数据一次写入各个硬盘，性能极大提升，但任意一块硬盘故障整个系统数据都会受到破坏</p>
</blockquote>
<h3 id="RAID1"><a href="#RAID1" class="headerlink" title="RAID1"></a>RAID1</h3><blockquote>
<p>需要至少两块硬盘，就可以有效的提高数据资料的安全性和可修复性，但成本却提高了</p>
<p>实现原来是在数据写入硬盘时也会在另外一块闲置的硬盘上生成镜像文件，在不影响性能的情况下最大限度保证数据资料的可靠性，只要在一对镜像盘中还有一块硬盘可以使用，那么数据也不会丢失，具有很好的硬盘冗余能力，虽然对数据来讲绝对的安全，但成本明显增加，磁盘利用率仅为50%</p>
</blockquote>
<h3 id="RAID5"><a href="#RAID5" class="headerlink" title="RAID5"></a>RAID5</h3><blockquote>
<p>至少需要三块硬盘，加固存储性能、数据安全和存储成本</p>
<p>如上图所示”parity”块中保存的是其他硬盘数据的奇偶校验信息(并非其他硬盘的数据)，以数据的奇偶校验信息来保证数据的安全，RAID5不以单独的硬盘来存放数据的奇偶校验信息，而是保存在各个磁盘上</p>
<p>这样当任何一个硬盘损坏都可以根据其他硬盘上的奇偶校验信息来尝试重建损坏的数据，性能也很高，兼顾了存储性能，数据安全和存储成本，尅看作是RAID0与RAID1的这种方案</p>
</blockquote>
<h3 id="RAID10"><a href="#RAID10" class="headerlink" title="RAID10"></a>RAID10</h3><blockquote>
<p>需要至少四块硬盘，兼具速度和安全性，但成本很高</p>
<p>继承了RAID10的快速与RAID1的安全，RAID1在这里提供了冗余备份的阵列，而RAID0则负责数据的读写阵列</p>
<p>因这种结构的成本高，一般用于存放要求速度与差错控制的数据</p>
</blockquote>
<h2 id="逻辑卷管理器"><a href="#逻辑卷管理器" class="headerlink" title="逻辑卷管理器"></a>逻辑卷管理器</h2><p>当用户根据实际情况需要对分区增加、减小等调整时，经常会受到硬盘”灵活性”的限制，很不方便</p>
<p>逻辑卷管理器则是在磁盘分区与文件系统之间添加的逻辑层，提供一个抽象的卷组，使得管理者可以忽略底层磁盘布局，从而实现对分区的灵活动态调整，这毫不夸张，系统默认启用了LVM机制（Logical Volume Manager）</p>
<blockquote>
<p>物理卷（PV,Physical Volume）：整个硬盘设备或使用fdisk命令建立的硬盘分区</p>
<p>卷组（VG，Volume Group）：由一个或多个物理卷（PV（组成的整体</p>
<p>逻辑卷（LV，Logical Volume）：从卷组（VG）出切割出的空间来用于创建文件系统，大小由PE的个数决定</p>
<p>基本单元（PE，Physical Extent）默认为4MB的基本块</p>
</blockquote>
<h2 id="虚拟文件系统"><a href="#虚拟文件系统" class="headerlink" title="虚拟文件系统"></a>虚拟文件系统</h2><h2 id="软硬链接"><a href="#软硬链接" class="headerlink" title="软硬链接"></a>软硬链接</h2><p>在linux系统中ln命令能够让用户创建出俩中不同类型的文件快捷方式</p>
<h3 id="硬链接（hard-link"><a href="#硬链接（hard-link" class="headerlink" title="硬链接（hard link)"></a>硬链接（hard link)</h3><p>可以理解为一个”指向原始文件inode的指针”，系统部位它分配独立的inode与文件，所以实际上来讲硬链接文件与原始文件其实是同一个文件，只是名字不同、</p>
<p>于是每添加一个硬链接，该文件的inode连接数就会增加1，直到该文件的inode连接数归0才是彻底删除。</p>
<p>概括来说因为硬链接实际就是指向原文件inode的指针，即使原始文件背删除依然可以通过链接文件访问，但是不能够跨文件系统也不能链接目录文件。</p>
<h3 id="软链接（symbolic-link）"><a href="#软链接（symbolic-link）" class="headerlink" title="软链接（symbolic link）"></a>软链接（symbolic link）</h3><p>即”仅仅包含它索要链接文件的路径名”，因此能做该目录链接也可以跨越文件系统，但原始文件背删除后链接文件也将失败，如同windows中的”快捷方式”</p>
<p>ln命令创建链接文件，格式为：ln [选项] 目标</p>
<p>创建硬链接：”ln 文件名 链接名”</p>
<p>创建软链接：”ln -s 文件名 链接名”</p>
<h1 id="iptables与firewalld防火墙"><a href="#iptables与firewalld防火墙" class="headerlink" title="iptables与firewalld防火墙"></a>iptables与firewalld防火墙</h1><h3 id="了解防火墙管理工具"><a href="#了解防火墙管理工具" class="headerlink" title="了解防火墙管理工具"></a>了解防火墙管理工具</h3><p>防火墙虽有软件或硬件之分但主要功能还是依据策略对外部请求进行过滤，成为公网与内网之间的保护屏障，防火墙会监控每一个数据包并判断是否有相应的匹配策略规则，直到满足其中一条策略规则为止，而防火墙规则策略可以是基于来源地址，请求动作或协议来定制的，最终仅让合法的用户请求流入到内网中，其余的均被丢弃</p>
<p>在红帽RHEL7系统中firewalld服务取代了iptables服务，但依然可以使用iptables命令来管理内核的netfilter。</p>
<p>但其实iptables服务与firewalld服务都不是真正的防火墙，它们都只是用来定义防火墙规则功能额度”防火墙管理工具”，将定义好的规则交由内核中的netfilter即网络过滤器来读取，从而真正实现防火墙功能，所以其实在配置规则的思路上是完全一致的。</p>
<h3 id="规则链与策略"><a href="#规则链与策略" class="headerlink" title="规则链与策略"></a>规则链与策略</h3><p>在iptables命令中设置数据过滤或处理数据包的策略叫规则，将多个规则合成一个链</p>
<p>对应到iptables命令中常见额度控制类型有：</p>
<blockquote>
<p>ACCEPT：允许通过</p>
<p>LOG：记录日志信息，然后传给下一条规则继续匹配</p>
<p>REJECT：拒绝通过，必要时会给出提示</p>
<p>DROP：直接丢弃，不给出任何回应</p>
</blockquote>
<p>其中REJECT和DROP的操作都是将数据包拒绝，但REJECT会再回复一条”您的信息我已受到，但被扔掉了”</p>
<p>而规则链则依据处理数据包的位置不同而进行分类：</p>
<blockquote>
<p>PREROUTING：在进行路由选择前处理数据包</p>
<p>INPUT：处理出站的数据包</p>
<p>OUTPUT：处理转发的数据包</p>
<p>FORWARD：处理转发的数据包</p>
<p>POSTROUTING：在进行路由选择后处理数据包</p>
</blockquote>
<p>iptables中的规则表是用于容纳规则链，规则表默认是允许状态的，那么规则链就是设置被禁止的规则，而反之如果规则表是禁止状态的，那么规则链就是设置被允许的规则</p>
<blockquote>
<p>raw表：确定是否对该数据包进行状态跟踪</p>
<p>mangle表：为数据包设置标记</p>
<p>nat表：修改数据包中的源、目标IP地址或端口</p>
<p>filter表：确定是否放行该数据包（过滤）</p>
</blockquote>
<p>规则表的先后顺序：raw &gt; mangle &gt; nat &gt; filter</p>
<p>规则链的先后顺序：</p>
<p>入站顺序：PREROUTING &gt; INPUT</p>
<p>出站顺序：OUTPUT &gt; POSTOUTING</p>
<p>转发顺序：PREROUTING &gt; FORWARD &gt; POSTROUTING</p>
<p>还有三点注意事项：</p>
<p>1、没有指定规则表则默认指filter表</p>
<p>2、不指定规则链则指表内所有的规则链</p>
<p>3、在规则链中匹配规则时会依次检查，匹配即停止（LOG规则例外），若没匹配项则按链的默认状态处理</p>
<h3 id="基本的命令参数"><a href="#基本的命令参数" class="headerlink" title="基本的命令参数"></a>基本的命令参数</h3><p>iptables命令用于管理防火墙的规则策略</p>
<p>格式为：iptables [-t 表名] 选项 [链名] [条件] [-j 控制类型]</p>
<h2 id="SNAT与DNAT"><a href="#SNAT与DNAT" class="headerlink" title="SNAT与DNAT"></a>SNAT与DNAT</h2><p>SNAT即源地址转换技术，能够让多个内网用户通过一个外网地址上网</p>
<p>DNAT即目的地址转换技术，能够让往外IP用户访问局域网内不同的服务器</p>
<h2 id="firewalld防火墙"><a href="#firewalld防火墙" class="headerlink" title="firewalld防火墙"></a>firewalld防火墙</h2><p>firewalld服务是红帽RHEL7系统中默认的防火墙管理工具，特点是拥有运行配置与永久配置选项且能够支持动态更新以及“zone”的区域功能概念。</p>
<h3 id="区域概念及作用"><a href="#区域概念及作用" class="headerlink" title="区域概念及作用"></a>区域概念及作用</h3><p>防火墙的网络区域定义了网络连接的可信等级，我们可以根据不同场景来调用不同的firewalld区域</p>
<table>
<thead>
<tr>
<th>区域</th>
<th>默认规则策略</th>
</tr>
</thead>
<tbody><tr>
<td>trusted</td>
<td>允许所有的数据包</td>
</tr>
<tr>
<td>home</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关或者是ssh,mdns,ipp-client,samba-client与dhcpv6-client服务则允许</td>
</tr>
<tr>
<td>internal</td>
<td>等同于home区域</td>
</tr>
<tr>
<td>work</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关或是ssh,ipp-client与dhcpv6-client服务则允许</td>
</tr>
<tr>
<td>public</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关或是ssh,dhcpv6-client服务则允许</td>
</tr>
<tr>
<td>external</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关或是ssh服务则允许</td>
</tr>
<tr>
<td>dmz</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关或是ssh服务则允许</td>
</tr>
<tr>
<td>block</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关</td>
</tr>
<tr>
<td>drop</td>
<td>拒绝流入的数据包，除非与输出流量数据包相关</td>
</tr>
</tbody></table>
<p>默认区域是public</p>
<h3 id="字符管理工具"><a href="#字符管理工具" class="headerlink" title="字符管理工具"></a>字符管理工具</h3><table>
<thead>
<tr>
<th>参数</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>–get-default-zone</td>
<td>查询默认的区域名称</td>
</tr>
<tr>
<td>–set-default-zone&#x3D;&lt;区域名称&gt;</td>
<td>设置默认的区域，永久生效</td>
</tr>
<tr>
<td>–get-zone</td>
<td>显示可用的区域</td>
</tr>
<tr>
<td>–get-services</td>
<td>显示预先定义的服务</td>
</tr>
<tr>
<td>–get-active-zones</td>
<td>显示当前正在使用的区域与网卡名称</td>
</tr>
<tr>
<td>–add-source&#x3D;</td>
<td>将来源于此IP或子网的流量导向指定的区域</td>
</tr>
<tr>
<td>–remove-source&#x3D;</td>
<td>不再将此IP或子网的流量导向某个指定区域</td>
</tr>
<tr>
<td>–add-interface&#x3D;&lt;网卡名称&gt;</td>
<td>将来自于该网卡的所有流量都导向某个指定区域</td>
</tr>
<tr>
<td>–change-interface&#x3D;&lt;网卡名称&gt;</td>
<td>将来自于该网卡的所有流量都导向某个指定区域</td>
</tr>
<tr>
<td>–list-all</td>
<td>显示当前区域的网卡配置参数，资源，端口以及服务等信息</td>
</tr>
<tr>
<td>–list-all-zone</td>
<td>显示所有区域的网卡配置参数，资源，端口以及服务等信息</td>
</tr>
<tr>
<td>–add-service&#x3D;&lt;服务名&gt;</td>
<td>设置默认区域允许该服务的流量</td>
</tr>
<tr>
<td>–add-port&#x3D;&lt;端口号&#x2F;协议&gt;</td>
<td>允许默认区域允许该端口的流量</td>
</tr>
<tr>
<td>–remove-service&#x3D;&lt;服务名&gt;</td>
<td>设置默认区域不再允许该服务的流量</td>
</tr>
<tr>
<td>–remove-port&#x3D;&lt;端口号&#x2F;协议&gt;</td>
<td>允许默认区域不再允许该端口的数量</td>
</tr>
<tr>
<td>–reload</td>
<td>让”永久生效”的配置规则立即生效，覆盖当前的</td>
</tr>
</tbody></table>
<p>firewalld服务有两份规则策略配置记录：</p>
<p>    Runtime：当前正在生效额度</p>
<p>    Permanent：永久生效的</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">1、查看当前的区域：</span><br><span class="line">firewall-cmd --get-default-zone</span><br><span class="line"></span><br><span class="line">2、查看eno16777728网卡的区域：</span><br><span class="line">firewall-cm --get-zone-of-interface=eno16777728</span><br><span class="line"></span><br><span class="line">3、在public中分别查询ssh与http服务是否被允许：</span><br><span class="line">firewall-cmd --zone=public --query-service=shh</span><br><span class="line">firewall-cmd --zone=public --query-service=http</span><br><span class="line"></span><br><span class="line">4、设置默认规则为dmz：</span><br><span class="line">firewall-cmd --set-default-zone=dmz</span><br><span class="line"></span><br><span class="line">5、让“永久生效”的配置文件立即生效：</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">6、启动/关闭应急状况模式，阻断所有网络连接：</span><br><span class="line">应急状况模式启动后会禁止所有的网络连接，一切的请求也都会拒绝，当心，请慎用</span><br><span class="line">firewall-cmd --panic-on</span><br><span class="line">firewall-cmd --panic-off</span><br><span class="line"></span><br><span class="line">7、允许https服务流量通过public区域，要求立即生效且永久生效：</span><br><span class="line">方法1：分别设置当前生效与永久有效的规则记录</span><br><span class="line">firewall-cmd --zone=public --add-service=https</span><br><span class="line">firewall-cmd --permanent --zone=public --add-service=https</span><br><span class="line">方法2、设置永久生效的记录后读取记录</span><br><span class="line">firewall-cmd --permanent --zone=puvlic --add-service=https</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">8、不再允许http服务流量通过public区域，要求立即生效且永久生效：</span><br><span class="line">firewall-cmd --permannent --zone=public --remove-service=http</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">9、允许8080和8081端口流量通过public区域，立即生效且永久生效：</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=8080-8081/tcp</span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">10、查看模拟9中端口操作是否成功</span><br><span class="line">firewall-cmd --zone-public --list-ports</span><br><span class="line">firewall-cmd --permannent --zone=public --list-ports</span><br><span class="line"></span><br><span class="line">11、将eno16777728网卡的区域修改为external，重启后生效：</span><br><span class="line">firewall-cmd permannent --zone=external --change-interface=eno16777728</span><br><span class="line">firewall-cmd --get-zone-of-interface=eno16777728</span><br><span class="line"></span><br><span class="line">12、设置富规则，拒绝192.168.10.0/25网段的用户访问ssh服务</span><br><span class="line">firewall-cmd --permannent --zone=public --add-rich-rule=&quot;rule </span><br><span class="line">family=&quot;ipv4&quot; source address=&quot;192.168.10.0/24&quot; service name=&quot;ssh&quot; reject&quot;</span><br></pre></td></tr></table></figure>

<h3 id="服务的访问控制列表"><a href="#服务的访问控制列表" class="headerlink" title="服务的访问控制列表"></a>服务的访问控制列表</h3><p>Tcp_wrappers（即Transmission Control Protocol Wrappers）是一款基于IP层的ACL访问控制列表流量监控程序，它能够根据来访主机地址与本机目标服务程序做允许或拒绝规则，控制列表修改后会立即生效，系统将会检查允许规则，如果匹配允许则直接放行流量，若拒绝规则中匹配则直接拒绝，都不匹配默认也会放行</p>
<p>允许名单：&#x2F;etc&#x2F;hosts.allow</p>
<p>拒绝名单：&#x2F;etc&#x2F;hosts.deny</p>
<p>指定客户端的规则如下：</p>
<table>
<thead>
<tr>
<th>客户端类型</th>
<th>示例</th>
<th>满足示例的客户端列表</th>
</tr>
</thead>
<tbody><tr>
<td>单一主机</td>
<td>192.168.10.10</td>
<td>IP地址为192.168.10.10.的主机</td>
</tr>
<tr>
<td>指定网段</td>
<td>192.168.10.</td>
<td>IP段为192.168.10.0&#x2F;24的主机</td>
</tr>
<tr>
<td>指定网段</td>
<td>192.168.10.0&#x2F;255.255.255.0</td>
<td>IP段为192.168.10.0&#x2F;24的主机</td>
</tr>
<tr>
<td>指定DNS后缀</td>
<td>.linux.com</td>
<td>所有DNS后缀为.linux.com的主机</td>
</tr>
<tr>
<td>指定主机名称</td>
<td>test.linux.com</td>
<td>主机名称为test.llinux.com的主机</td>
</tr>
<tr>
<td>指定所有客户端</td>
<td>ALL</td>
<td>所有主机全部包括在</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、限制只有192.168.10.0/24网段的主机可以访问本机的httpd服务：</span><br><span class="line">编辑允许规则：</span><br><span class="line">vim /etc/hosts.allow</span><br><span class="line">httpd:192.168.10.</span><br><span class="line">拒绝其他所有的主机：</span><br><span class="line">vim /etc/hosts.deny</span><br><span class="line">httpd:*</span><br></pre></td></tr></table></figure>

<h2 id="使用ssh服务管理远程主机"><a href="#使用ssh服务管理远程主机" class="headerlink" title="使用ssh服务管理远程主机"></a>使用ssh服务管理远程主机</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/05/2024-6-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="zhou">
      <meta itemprop="description" content="不聚不散">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="颂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/06/05/2024-6-5/" class="post-title-link" itemprop="url">2024-6-5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-06-05 13:37:04 / 修改时间：14:20:31" itemprop="dateCreated datePublished" datetime="2024-06-05T13:37:04+08:00">2024-06-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&nbsp;&nbsp;&nbsp;&nbsp;24年六月五日，天气小雨。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;日记大抵是这么开头的吧，历经了一天多的时间，终于也是重新部署完了blog，遥想起上一次搞这个已经是三年前了，恍惚间时间线又开始闪烁，三年前似乎还意气风发，三年后已在泥潭中挣扎。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;自三月思潮澎湃以来，近况已趋近良好，若非那“旧疾”频发，想来也是能趋于平淡，纵是如此，也尝试许多新鲜事物，尝试了骑车、品书、看电影，都令我所着迷，纵观多年来，未养成一个长久所坚持的爱好，还忘在当下勉励自己，能够成功摆脱牢笼。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;今日计划安排看一部哈利波特，看一段时间红楼梦，每日坚持，加油！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhou"
      src="/images/touxiang.jpg">
  <p class="site-author-name" itemprop="name">zhou</p>
  <div class="site-description" itemprop="description">不聚不散</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhou</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共33.7k字</span>
</div>
        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
